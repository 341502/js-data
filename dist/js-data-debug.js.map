{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap deffd31e0c4b27db01ba","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/index.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/collection/index.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/collection/query.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/utils.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/index.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/belongsTo.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/configure.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/hasMany.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/hasOne.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/initialize.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/schema.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/validate/index.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/decorators/adapter.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/lib/mindex/index.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/lib/mindex/utils.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/datastore/index.js","webpack:///C:/Users/jason/Documents/GitHub/js-data/src/model/index.js"],"names":[],"mappings":"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","file":"./dist/js-data-debug.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JSData\"] = factory();\n\telse\n\t\troot[\"JSData\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap deffd31e0c4b27db01ba\n **/","if (!Promise.prototype.spread) {\r\n  Promise.prototype.spread = function (cb) {\r\n    return this.then(function (arr) {\r\n      return cb.apply(this, arr)\r\n    })\r\n  }\r\n}\r\n\r\nexport * from './collection'\r\nexport * from './datastore'\r\nexport * from './decorators'\r\nexport * from './model'\r\nexport * from './validate'\r\nexport * as utils from './utils'\r\n\r\nexport const version = {\r\n  full: '<%= pkg.version %>',\r\n  major: parseInt('<%= major %>', 10),\r\n  minor: parseInt('<%= minor %>', 10),\r\n  patch: parseInt('<%= patch %>', 10),\r\n  alpha: '<%= alpha %>' !== 'false' ? '<%= alpha %>' : false,\r\n  beta: '<%= beta %>' !== 'false' ? '<%= beta %>' : false\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/index.js\n **/","import {Query} from './query'\r\nimport {isArray, isString, forOwn} from '../utils'\r\nimport {configure} from '../decorators'\r\nimport {Index} from '../../lib/mindex'\r\nexports.Query = Query\r\n\r\nexport function Collection (data = [], idAttribute = 'id') {\r\n  if (!isArray(data)) {\r\n    throw new TypeError('new Collection([data]): data: Expected array. Found ' + typeof data)\r\n  }\r\n  this.idAttribute = idAttribute\r\n  this.index = new Index([idAttribute], idAttribute)\r\n  this.indexes = {}\r\n  data.forEach(this.index.insertRecord, this.index)\r\n}\r\n\r\nconfigure({\r\n  createIndex (name, keyList) {\r\n    if (isString(name) && keyList === undefined) {\r\n      keyList = [name]\r\n    }\r\n    const index = this.indexes[name] = new Index(keyList, this.idAttribute)\r\n    this.index.visitAll(index.insertRecord, index)\r\n    return this\r\n  },\r\n\r\n  query () {\r\n    return new Query(this)\r\n  },\r\n\r\n  between (...args) {\r\n    return this.query().between(...args).run()\r\n  },\r\n\r\n  get (...args) {\r\n    return this.query().get(...args).run()\r\n  },\r\n\r\n  getAll (...args) {\r\n    return this.query().getAll(...args).run()\r\n  },\r\n\r\n  filter (opts) {\r\n    return this.query().filter(opts).run()\r\n  },\r\n\r\n  skip (num) {\r\n    return this.query().skip(num).run()\r\n  },\r\n\r\n  limit (num) {\r\n    return this.query().limit(num).run()\r\n  },\r\n\r\n  forEach (cb, thisArg) {\r\n    this.index.visitAll(cb, thisArg)\r\n  },\r\n\r\n  map (cb, thisArg) {\r\n    const data = []\r\n    this.index.visitAll(function (value) {\r\n      data.push(cb.call(thisArg, value))\r\n    })\r\n    return data\r\n  },\r\n\r\n  insert (record) {\r\n    this.index.insertRecord(record)\r\n    forOwn(this.indexes, function (index, name) {\r\n      index.insertRecord(record)\r\n    })\r\n  },\r\n\r\n  update (record) {\r\n    this.index.updateRecord(record)\r\n    forOwn(this.indexes, function (index, name) {\r\n      index.updateRecord(record)\r\n    })\r\n  },\r\n\r\n  remove (record) {\r\n    this.index.removeRecord(record)\r\n    forOwn(this.indexes, function (index, name) {\r\n      index.removeRecord(record)\r\n    })\r\n  },\r\n\r\n  insertRecord (record, opts) {\r\n    opts || (opts = {})\r\n    const index = opts.index ? this.indexes[opts.index] : this.index\r\n    index.insertRecord(record)\r\n  },\r\n\r\n  updateRecord (record, opts) {\r\n    opts || (opts = {})\r\n    const index = opts.index ? this.indexes[opts.index] : this.index\r\n    index.updateRecord(record)\r\n  },\r\n\r\n  removeRecord (record, opts) {\r\n    opts || (opts = {})\r\n    const index = opts.index ? this.indexes[opts.index] : this.index\r\n    index.removeRecord(record)\r\n  }\r\n})(Collection.prototype)\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/collection/index.js\n **/","import {\r\n  forOwn,\r\n  get,\r\n  intersection,\r\n  isArray,\r\n  isFunction,\r\n  isNumber,\r\n  isObject,\r\n  isString\r\n} from '../utils'\r\nimport {configure} from '../decorators'\r\n\r\nexport function Query (collection) {\r\n  this.collection = collection\r\n}\r\n\r\nconst reserved = {\r\n  skip: '',\r\n  offset: '',\r\n  where: '',\r\n  limit: '',\r\n  orderBy: '',\r\n  sort: ''\r\n}\r\n\r\nfunction compare (orderBy, index, a, b) {\r\n  const def = orderBy[index]\r\n  let cA = get(a, def[0])\r\n  let cB = get(b, def[0])\r\n  if (cA && isString(cA)) {\r\n    cA = cA.toUpperCase()\r\n  }\r\n  if (cB && isString(cB)) {\r\n    cB = cB.toUpperCase()\r\n  }\r\n  if (def[1] === 'DESC') {\r\n    if (cB < cA) {\r\n      return -1\r\n    } else if (cB > cA) {\r\n      return 1\r\n    } else {\r\n      if (index < orderBy.length - 1) {\r\n        return compare(orderBy, index + 1, a, b)\r\n      } else {\r\n        return 0\r\n      }\r\n    }\r\n  } else {\r\n    if (cA < cB) {\r\n      return -1\r\n    } else if (cA > cB) {\r\n      return 1\r\n    } else {\r\n      if (index < orderBy.length - 1) {\r\n        return compare(orderBy, index + 1, a, b)\r\n      } else {\r\n        return 0\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst escapeRegExp = /([.*+?^=!:${}()|[\\]\\/\\\\])/g\r\nconst percentRegExp = /%/g\r\nconst underscoreRegExp = /_/g\r\n\r\nfunction escape (pattern) {\r\n  return pattern.replace(escapeRegExp, '\\\\$1')\r\n}\r\n\r\nfunction like (pattern, flags) {\r\n  return new RegExp(`^${(escape(pattern).replace(percentRegExp, '.*').replace(underscoreRegExp, '.'))}$`, flags)\r\n}\r\n\r\nfunction evaluate (value, op, predicate) {\r\n  switch (op) {\r\n    case '==':\r\n      return value == predicate // eslint-disable-line\r\n    case '===':\r\n      return value === predicate\r\n    case '!=':\r\n      return value != predicate // eslint-disable-line\r\n    case '!==':\r\n      return value !== predicate\r\n    case '>':\r\n      return value > predicate\r\n    case '>=':\r\n      return value >= predicate\r\n    case '<':\r\n      return value < predicate\r\n    case '<=':\r\n      return value <= predicate\r\n    case 'isectEmpty':\r\n      return !intersection((value || []), (predicate || [])).length\r\n    case 'isectNotEmpty':\r\n      return intersection((value || []), (predicate || [])).length\r\n    case 'in':\r\n      return predicate.indexOf(value) !== -1\r\n    case 'notIn':\r\n      return predicate.indexOf(value) === -1\r\n    case 'contains':\r\n      return value.indexOf(predicate) !== -1\r\n    case 'notContains':\r\n      return value.indexOf(predicate) === -1\r\n    default:\r\n      if (op.indexOf('like') === 0) {\r\n        return like(predicate, op.substr(4)).exec(value) !== null\r\n      } else if (op.indexOf('notLike') === 0) {\r\n        return like(predicate, op.substr(7)).exec(value) === null\r\n      }\r\n  }\r\n}\r\n\r\nconfigure({\r\n  getData () {\r\n    if (!this.data) {\r\n      this.data = this.collection.index.getAll()\r\n    }\r\n    return this.data\r\n  },\r\n\r\n  between (leftKeys, rightKeys, opts) {\r\n    opts || (opts = {})\r\n    const collection = this.collection\r\n    const index = opts.index ? collection.indexes[opts.index] : collection.index\r\n    if (this.data) {\r\n      throw new Error('Cannot access index after first operation!')\r\n    }\r\n    this.data = index.between(leftKeys, rightKeys, opts)\r\n    return this\r\n  },\r\n\r\n  get (keyList = [], opts) {\r\n    opts || (opts = {})\r\n    if (this.data) {\r\n      throw new Error('Cannot access index after first operation!')\r\n    }\r\n    if (keyList && !isArray(keyList)) {\r\n      keyList = [keyList]\r\n    }\r\n    if (!keyList.length) {\r\n      this.getData()\r\n      return this\r\n    }\r\n    const collection = this.collection\r\n    const index = opts.index ? collection.indexes[opts.index] : collection.index\r\n    this.data = index.get(keyList)\r\n    return this\r\n  },\r\n\r\n  getAll (...args) {\r\n    let opts = {}\r\n    if (this.data) {\r\n      throw new Error('Cannot access index after first operation!')\r\n    }\r\n    if (!args.length || args.length === 1 && isObject(args[0])) {\r\n      this.getData()\r\n      return this\r\n    } else if (args.length && isObject(args[args.length - 1])) {\r\n      opts = args[args.length - 1]\r\n      args.pop()\r\n    }\r\n    const collection = this.collection\r\n    const index = opts.index ? collection.indexes[opts.index] : collection.index\r\n    this.data = []\r\n    args.forEach(keyList => {\r\n      this.data = this.data.concat(index.get(keyList))\r\n    })\r\n    return this\r\n  },\r\n\r\n  filter (opts, thisArg) {\r\n    opts || (opts = {})\r\n    this.getData()\r\n    if (isObject(opts)) {\r\n      let where = {}\r\n      // Filter\r\n      if (isObject(opts.where)) {\r\n        where = opts.where\r\n      }\r\n      forOwn(opts, function (value, key) {\r\n        if (!(key in reserved) && !(key in where)) {\r\n          where[key] = {\r\n            '==': value\r\n          }\r\n        }\r\n      })\r\n\r\n      const fields = []\r\n      const ops = []\r\n      const predicates = []\r\n      forOwn(where, function (clause, field) {\r\n        if (!isObject(clause)) {\r\n          clause = {\r\n            '==': clause\r\n          }\r\n        }\r\n        forOwn(clause, function (expr, op) {\r\n          fields.push(field)\r\n          ops.push(op)\r\n          predicates.push(expr)\r\n        })\r\n      })\r\n      if (fields.length) {\r\n        let i\r\n        let len = fields.length\r\n        this.data = this.data.filter(function (item) {\r\n          let first = true\r\n          let keep = true\r\n\r\n          for (i = 0; i < len; i++) {\r\n            let op = ops[i]\r\n            const isOr = op.charAt(0) === '|'\r\n            op = isOr ? op.substr(1) : op\r\n            const expr = evaluate(get(item, fields[i]), op, predicates[i])\r\n            if (expr !== undefined) {\r\n              keep = first ? expr : (isOr ? keep || expr : keep && expr)\r\n            }\r\n            first = false\r\n          }\r\n          return keep\r\n        })\r\n      }\r\n\r\n      // Sort\r\n      let orderBy = opts.orderBy || opts.sort\r\n\r\n      if (isString(orderBy)) {\r\n        orderBy = [\r\n          [orderBy, 'ASC']\r\n        ]\r\n      }\r\n      if (!isArray(orderBy)) {\r\n        orderBy = null\r\n      }\r\n\r\n      // Apply 'orderBy'\r\n      if (orderBy) {\r\n        let index = 0\r\n        orderBy.forEach(function (def, i) {\r\n          if (isString(def)) {\r\n            orderBy[i] = [def, 'ASC']\r\n          }\r\n        })\r\n        this.data.sort(function (a, b) {\r\n          return compare(orderBy, index, a, b)\r\n        })\r\n      }\r\n\r\n      // Skip\r\n      if (isNumber(opts.skip)) {\r\n        this.skip(opts.skip)\r\n      } else if (isNumber(opts.offset)) {\r\n        this.skip(opts.offset)\r\n      }\r\n      // Limit\r\n      if (isNumber(opts.limit)) {\r\n        this.limit(opts.limit)\r\n      }\r\n    } else if (isFunction(opts)) {\r\n      this.data = this.data.filter(opts, thisArg)\r\n    }\r\n    return this\r\n  },\r\n\r\n  skip (num) {\r\n    if (!isNumber(num)) {\r\n      throw new TypeError(`skip: Expected number but found ${typeof num}!`)\r\n    }\r\n    const data = this.getData()\r\n    if (num < data.length) {\r\n      this.data = data.slice(num)\r\n    } else {\r\n      this.data = []\r\n    }\r\n    return this\r\n  },\r\n\r\n  limit (num) {\r\n    if (!isNumber(num)) {\r\n      throw new TypeError(`limit: Expected number but found ${typeof num}!`)\r\n    }\r\n    const data = this.getData()\r\n    this.data = data.slice(0, Math.min(data.length, num))\r\n    return this\r\n  },\r\n\r\n  forEach (cb, thisArg) {\r\n    this.getData().forEach(cb, thisArg)\r\n    return this\r\n  },\r\n\r\n  map (cb, thisArg) {\r\n    this.data = this.getData().map(cb, thisArg)\r\n    return this\r\n  },\r\n\r\n  run () {\r\n    let data = this.data\r\n    this.data = null\r\n    this.params = null\r\n    return data\r\n  }\r\n})(Query.prototype)\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/collection/query.js\n **/","export const isArray = Array.isArray\r\nexport function isObject (value) {\r\n  return toString.call(value) === '[object Object]' || false\r\n}\r\nfunction isPlainObject (value) {\r\n  return (!!value && typeof value === 'object' && value.constructor === Object)\r\n}\r\nexport function isRegExp (value) {\r\n  return toString.call(value) === '[object RegExp]' || false\r\n}\r\nexport function isString (value) {\r\n  return typeof value === 'string' || (value && typeof value === 'object' && toString.call(value) === '[object String]') || false\r\n}\r\nexport function isDate (value) {\r\n  return (value && typeof value === 'object' && toString.call(value) === '[object Date]') || false\r\n}\r\nexport function isNumber (value) {\r\n  const type = typeof value\r\n  return type === 'number' || (value && type === 'object' && toString.call(value) === '[object Number]') || false\r\n}\r\nexport function isBoolean (value) {\r\n  return toString.call(value) === '[object Boolean]'\r\n}\r\nexport function isFunction (value) {\r\n  return typeof value === 'function' || (value && toString.call(value) === '[object Function]') || false\r\n}\r\nexport function isSorN (value) {\r\n  return isString(value) || isNumber(value)\r\n}\r\nexport function get (object, prop) {\r\n  if (!prop) {\r\n    return\r\n  }\r\n  const parts = prop.split('.')\r\n  const last = parts.pop()\r\n\r\n  while (prop = parts.shift()) {\r\n    object = object[prop]\r\n    if (object == null) return\r\n  }\r\n\r\n  return object[last]\r\n}\r\nexport function unset (object, prop) {\r\n  const parts = prop.split('.')\r\n  const last = parts.pop()\r\n\r\n  while (prop = parts.shift()) {\r\n    object = object[prop]\r\n    if (object == null) return\r\n  }\r\n\r\n  delete object[last]\r\n}\r\nfunction mkdirP (object, path) {\r\n  if (!path) {\r\n    return object\r\n  }\r\n  const parts = path.split('.')\r\n  parts.forEach(function (key) {\r\n    if (!object[key]) {\r\n      object[key] = {}\r\n    }\r\n    object = object[key]\r\n  })\r\n  return object\r\n}\r\nconst PATH = /^(.+)\\.(.+)$/\r\nexport function set (object, path, value) {\r\n  if (isObject(path)) {\r\n    forOwn(path, function (value, _path) {\r\n      set(object, _path, value)\r\n    })\r\n  } else {\r\n    const parts = PATH.exec(path)\r\n    if (parts) {\r\n      mkdirP(object, parts[1])[parts[2]] = value\r\n    } else {\r\n      object[path] = value\r\n    }\r\n  }\r\n}\r\nexport function forOwn (obj, fn, thisArg) {\r\n  const keys = Object.keys(obj)\r\n  const len = keys.length\r\n  let i\r\n  for (i = 0; i < len; i++) {\r\n    fn.call(thisArg, obj[keys[i]], keys[i], obj)\r\n  }\r\n}\r\nexport function deepMixIn (dest, source) {\r\n  if (source) {\r\n    forOwn(source, function (value, key) {\r\n      const existing = this[key]\r\n      if (isPlainObject(value) && isPlainObject(existing)) {\r\n        deepMixIn(existing, value)\r\n      } else {\r\n        this[key] = value\r\n      }\r\n    }, dest)\r\n  }\r\n  return dest\r\n}\r\nexport function resolve (value) {\r\n  return Promise.resolve(value)\r\n}\r\nexport function reject (value) {\r\n  return Promise.reject(value)\r\n}\r\nexport function _ (Model, opts) {\r\n  for (var key in Model) {\r\n    let value = Model[key]\r\n    if (opts[key] === undefined && !isFunction(value)) {\r\n      opts[key] = value\r\n    }\r\n  }\r\n}\r\nexport function intersection (array1, array2) {\r\n  if (!array1 || !array2) {\r\n    return []\r\n  }\r\n  const result = []\r\n  let item\r\n  let i\r\n  const len = array1.length\r\n  for (i = 0; i < len; i++) {\r\n    item = array1[i]\r\n    if (result.indexOf(item) !== -1) {\r\n      continue\r\n    }\r\n    if (array2.indexOf(item) !== -1) {\r\n      result.push(item)\r\n    }\r\n  }\r\n  return result\r\n}\r\nexport function fillIn (dest, src) {\r\n  forOwn(src, function (value, key) {\r\n    if (dest[key] === undefined) {\r\n      dest[key] = value\r\n    }\r\n  })\r\n}\r\nexport function isBlacklisted (prop, bl) {\r\n  if (!bl || !bl.length) {\r\n    return false\r\n  }\r\n  let matches\r\n  for (var i = 0; i < bl.length; i++) {\r\n    if ((Object.prototype.toString.call(bl[i]) === '[object RegExp]' && bl[i].test(prop)) || bl[i] === prop) {\r\n      matches = prop\r\n      return matches\r\n    }\r\n  }\r\n  return !!matches\r\n}\r\nexport function omit (obj, bl) {\r\n  let toRemove = []\r\n  forOwn(obj, function (value, key) {\r\n    if (isBlacklisted(key, bl)) {\r\n      toRemove.push(key)\r\n    }\r\n  })\r\n  toRemove.forEach(function (key) {\r\n    delete obj[key]\r\n  })\r\n  return obj\r\n}\r\nexport function fromJson (json) {\r\n  return isString(json) ? JSON.parse(json) : json\r\n}\r\nexport const toJson = JSON.stringify\r\nexport function copy (from, to, stackFrom, stackTo, blacklist) {\r\n  if (!to) {\r\n    to = from\r\n    if (from) {\r\n      if (isArray(from)) {\r\n        to = copy(from, [], stackFrom, stackTo, blacklist)\r\n      } else if (isDate(from)) {\r\n        to = new Date(from.getTime())\r\n      } else if (isRegExp(from)) {\r\n        to = new RegExp(from.source, from.toString().match(/[^\\/]*$/)[0])\r\n        to.lastIndex = from.lastIndex\r\n      } else if (isObject(from)) {\r\n        to = copy(from, Object.create(Object.getPrototypeOf(from)), stackFrom, stackTo, blacklist)\r\n      }\r\n    }\r\n  } else {\r\n    if (from === to) {\r\n      throw new Error('Cannot copy! Source and destination are identical.')\r\n    }\r\n\r\n    stackFrom = stackFrom || []\r\n    stackTo = stackTo || []\r\n\r\n    if (isObject(from)) {\r\n      let index = stackFrom.indexOf(from)\r\n      if (index !== -1) {\r\n        return stackTo[index]\r\n      }\r\n\r\n      stackFrom.push(from)\r\n      stackTo.push(to)\r\n    }\r\n\r\n    let result\r\n    if (isArray(from)) {\r\n      let i\r\n      to.length = 0\r\n      for (i = 0; i < from.length; i++) {\r\n        result = copy(from[i], null, stackFrom, stackTo, blacklist)\r\n        if (isObject(from[i])) {\r\n          stackFrom.push(from[i])\r\n          stackTo.push(result)\r\n        }\r\n        to.push(result)\r\n      }\r\n    } else {\r\n      if (isArray(to)) {\r\n        to.length = 0\r\n      } else {\r\n        forOwn(to, function (value, key) {\r\n          delete to[key]\r\n        })\r\n      }\r\n      for (var key in from) {\r\n        if (from.hasOwnProperty(key)) {\r\n          if (isBlacklisted(key, blacklist)) {\r\n            continue\r\n          }\r\n          result = copy(from[key], null, stackFrom, stackTo, blacklist)\r\n          if (isObject(from[key])) {\r\n            stackFrom.push(from[key])\r\n            stackTo.push(result)\r\n          }\r\n          to[key] = result\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return to\r\n}\r\nconst SPLIT = /\\s+/\r\nconst NON_ALPHA = /[^A-Za-z]/g\r\nconst PASCAL_CASE = /(\\w)(\\w*)/g\r\nfunction pascalize (g0, g1, g2) {\r\n  return `${g1.toUpperCase()}${g2.toLowerCase()}`\r\n}\r\nfunction mapToPascal (x) {\r\n  return x.replace(NON_ALPHA, '').replace(PASCAL_CASE, pascalize)\r\n}\r\nexport function pascalCase (str) {\r\n  return str\r\n    .split(SPLIT)\r\n    .map(mapToPascal)\r\n    .join('')\r\n}\r\nexport function camelCase (str) {\r\n  str = pascalCase(str)\r\n  if (str) {\r\n    return str.charAt(0).toLowerCase() + str.slice(1)\r\n  }\r\n  return str\r\n}\r\nexport function Events (target, getter, setter) {\r\n  target = target || this\r\n  let _events = {}\r\n  if (!getter && !setter) {\r\n    getter = function () {\r\n      return _events\r\n    }\r\n    setter = function (value) {\r\n      _events = value\r\n    }\r\n  }\r\n  Object.defineProperties(target, {\r\n    on: {\r\n      value (type, func, ctx) {\r\n        if (!getter.call(this)) {\r\n          setter.call(this, {})\r\n        }\r\n        const events = getter.call(this)\r\n        events[type] = events[type] || []\r\n        events[type].push({\r\n          f: func,\r\n          c: ctx\r\n        })\r\n      }\r\n    },\r\n    off: {\r\n      value (type, func) {\r\n        const events = getter.call(this)\r\n        const listeners = events[type]\r\n        if (!listeners) {\r\n          setter.call(this, {})\r\n        } else if (func) {\r\n          for (let i = 0; i < listeners.length; i++) {\r\n            if (listeners[i].f === func) {\r\n              listeners.splice(i, 1)\r\n              break\r\n            }\r\n          }\r\n        } else {\r\n          listeners.splice(0, listeners.length)\r\n        }\r\n      }\r\n    },\r\n    emit: {\r\n      value (...args) {\r\n        const events = getter.call(this)\r\n        const listeners = events[args.shift()] || []\r\n        if (listeners) {\r\n          for (let i = 0; i < listeners.length; i++) {\r\n            listeners[i].f.apply(listeners[i].c, args)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/utils.js\n **/","export * from './belongsTo'\r\nexport * from './configure'\r\nexport * from './hasMany'\r\nexport * from './hasOne'\r\nexport * from './initialize'\r\nexport * from './schema'\r\nexport * from './adapter'\r\n\r\n// Workaround for https://github.com/babel/babel/issues/2763\r\nexport const DECORATORS = 'FIXME'\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/index.js\n **/","import {get, set} from '../utils'\r\n\r\nconst op = 'belongsTo'\r\n\r\n/**\r\n * Steps to apply a \"belongsTo\" relationship\r\n * 1. Choose the localField and localKey\r\n * 2. Configure property descriptor, possibly including custom getter/setter\r\n * 3. Add property to prototype of target Model\r\n *\r\n * The added property is where an instance of the related Model will be\r\n * attached to an instance of the target Model, e.g. if Comment belongsTo\r\n * User and \"localField\" is set to \"user\", \"comment.user\" will be a reference to\r\n * the user.\r\n */\r\nfunction applyBelongsTo (Model, Relation, opts) {\r\n  opts || (opts = {})\r\n  // Choose field where the relation will be attached\r\n  const localField = opts.localField = opts.localField || Relation.name.toLowerCase()\r\n  // Choose field that holds the primary key of the relation\r\n  const localKey = opts.localKey = opts.localKey || Relation.name.toLowerCase() + '_id'\r\n\r\n  // Setup configuration of the property\r\n  const descriptor = {\r\n    // Whether the field specified by \"localField\" will show up in \"for...in\"\r\n    enumerable: opts.enumerable !== undefined ? !!opts.enumerable : false,\r\n    // Set default method for retrieving the linked relation\r\n    get () {\r\n      const key = get(this, localKey)\r\n      return key !== undefined ? Relation.get(key) : undefined\r\n    },\r\n    // Set default method for setting the linked relation\r\n    set (parent) {\r\n      set(this, localKey, parent[Relation.idAttribute])\r\n      return get(this, localField)\r\n    }\r\n  }\r\n\r\n  // Check whether the relation shouldn't actually be linked via a getter\r\n  if (opts.link === false || (opts.link === undefined && !Model.linkRelations)) {\r\n    delete descriptor.get\r\n    delete descriptor.set\r\n    descriptor.writable = true\r\n  }\r\n\r\n  // Check for user-defined getter\r\n  if (opts.get) {\r\n    const originalGet = descriptor.get\r\n    // Set user-defined getter\r\n    descriptor.get = function () {\r\n      // Call user-defined getter, passing in:\r\n      //  - target Model\r\n      //  - related Model\r\n      //  - instance of target Model\r\n      //  - the original getter function, in case the user wants to use it\r\n      return opts.get(Model, Relation, this, originalGet ? (...args) => originalGet.apply(this, args) : undefined)\r\n    }\r\n  }\r\n\r\n  // Check for user-defined setter\r\n  if (opts.set) {\r\n    const originalSet = descriptor.set\r\n    // Set user-defined setter\r\n    descriptor.set = function (parent) {\r\n      // Call user-defined getter, passing in:\r\n      //  - target Model\r\n      //  - related Model\r\n      //  - instance of target Model\r\n      //  - instance of related Model\r\n      //  - the original setter function, in case the user wants to use it\r\n      return opts.set(Model, Relation, this, parent, originalSet ? (...args) => originalSet.apply(this, args) : undefined)\r\n    }\r\n  }\r\n\r\n  // Finally, added property to prototype of target Model\r\n  Object.defineProperty(Model.prototype, localField, descriptor)\r\n\r\n  if (!Model.relationList) {\r\n    Model.relationList = []\r\n  }\r\n  if (!Model.relationFields) {\r\n    Model.relationFields = []\r\n  }\r\n  opts.type = 'belongsTo'\r\n  opts.name = Model.name\r\n  opts.relation = Relation.name\r\n  opts.Relation = Relation\r\n  Model.relationList.push(opts)\r\n  Model.relationFields.push(localField)\r\n  Model.data().createIndex(localKey)\r\n\r\n  // Return target Model for chaining\r\n  return Model\r\n}\r\n\r\n/**\r\n * Usage:\r\n *\r\n * ES7 Usage:\r\n * import {belongsTo, Model} from 'js-data'\r\n * class User extends Model {}\r\n * @belongsTo(User, {...})\r\n * class Post extends Model {}\r\n *\r\n * ES6 Usage:\r\n * import {belongsTo, Model} from 'js-data'\r\n * class User extends Model {}\r\n * class Comment extends Model {}\r\n * belongsTo(User, {...})(Comment)\r\n *\r\n * ES5 Usage:\r\n * var JSData = require('js-data')\r\n * var User = JSData.Model.extend()\r\n * var Comment = JSDataModel.extend()\r\n * JSData.belongsTo(User, {...})(Comment)\r\n */\r\nexport function belongsTo (Model, opts) {\r\n  return function (target) {\r\n    target.dbg(op, 'Model:', Model, 'opts:', opts)\r\n    return applyBelongsTo(target, Model, opts)\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/belongsTo.js\n **/","import {copy, forOwn} from '../utils'\r\n\r\n/**\r\n * Usage:\r\n *\r\n * @configure({\r\n *   idAttribute: '_id'\r\n * })\r\n * class User extends JSData.Model {...}\r\n */\r\nexport function configure (props, overwrite = true) {\r\n  props = props || {}\r\n  return function (target) {\r\n    forOwn(props, function (value, key) {\r\n      if (target[key] === undefined || overwrite) {\r\n        target[key] = copy(value)\r\n      }\r\n    })\r\n    return target\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/configure.js\n **/","import {camelCase, isArray, get, set} from '../utils'\r\n\r\nconst op = 'hasMany'\r\n\r\n/**\r\n * Steps to apply a \"hasMany\" relationship\r\n * 1. Choose the localField and foreignKey or localKeys\r\n * 2. Configure property descriptor, possibly including custom getter/setter\r\n * 3. Add property to prototype of target Model\r\n *\r\n * The added property is where instances of the related Model will be\r\n * attached to an instance of the target Model, e.g. if User hasMany Comment\r\n * and \"localField\" is set to \"comments\", \"user.comments\" will be a reference to\r\n * the array of comments.\r\n */\r\nfunction applyHasMany (Model, Relation, opts) {\r\n  opts || (opts = {})\r\n  // Choose field where the relation will be attached\r\n  const localField = opts.localField || `${camelCase(Relation.name)}Collection`\r\n  // Choose field on related instances that holds the primary key of instances\r\n  // of the target Model\r\n  let foreignKey = opts.foreignKey\r\n  const localKeys = opts.localKeys\r\n  const foreignKeys = opts.foreignKeys\r\n\r\n  if (!foreignKey && !localKeys && !foreignKeys) {\r\n    foreignKey = opts.foreignKey = `${camelCase(Model.name)}Id`\r\n  }\r\n  if (foreignKey) {\r\n    Relation.data().createIndex(foreignKey)\r\n  }\r\n\r\n  // Setup configuration of the property\r\n  const descriptor = {\r\n    // Whether the field specified by \"localField\" will show up in \"for...in\"\r\n    enumerable: opts.enumerable !== undefined ? !!opts.enumerable : false,\r\n    // Set default method for retrieving the linked relation\r\n    get () {\r\n      const query = {}\r\n      if (foreignKey) {\r\n        // Make a FAST retrieval of the relation using a secondary index\r\n        return Relation.getAll(get(this, Model.idAttribute), { index: foreignKey })\r\n      } else if (localKeys) {\r\n        const keys = get(this, localKeys) || []\r\n        const args = isArray(keys) ? keys : Object.keys(keys)\r\n        // Make a slower retrieval using the ids in the \"localKeys\" array\r\n        return Relation.getAll.apply(Relation, args)\r\n      } else if (foreignKeys) {\r\n        set(query, `where.${foreignKeys}.contains`, get(this, Model.idAttribute))\r\n        // Make a much slower retrieval\r\n        return Relation.filter(query)\r\n      }\r\n      return undefined\r\n    },\r\n    // Set default method for setting the linked relation\r\n    set (children) {\r\n      if (children && children.length) {\r\n        const id = get(this, Model.idAttribute)\r\n        if (foreignKey) {\r\n          children.forEach(function (child) {\r\n            set(child, foreignKey, id)\r\n          })\r\n        } else if (localKeys) {\r\n          const keys = []\r\n          children.forEach(function (child) {\r\n            keys.push(get(child, Relation.idAttribute))\r\n          })\r\n          set(this, localKeys, keys)\r\n        } else if (foreignKeys) {\r\n          children.forEach(function (child) {\r\n            const keys = get(child, foreignKeys)\r\n            if (keys) {\r\n              if (keys.indexOf(id) === -1) {\r\n                keys.push(id)\r\n              }\r\n            } else {\r\n              set(child, foreignKeys, [id])\r\n            }\r\n          })\r\n        }\r\n      }\r\n      return get(this, localField)\r\n    }\r\n  }\r\n\r\n  // Check whether the relation shouldn't actually be linked via a getter\r\n  if (opts.link === false || (opts.link === undefined && !Model.linkRelations)) {\r\n    delete descriptor.get\r\n    delete descriptor.set\r\n    descriptor.writable = true\r\n  }\r\n\r\n  // Check for user-defined getter\r\n  if (opts.get) {\r\n    const originalGet = descriptor.get\r\n    // Set user-defined getter\r\n    descriptor.get = function () {\r\n      // Call user-defined getter, passing in:\r\n      //  - target Model\r\n      //  - related Model\r\n      //  - instance of target Model\r\n      //  - the original getter function, in case the user wants to use it\r\n      return opts.get(Model, Relation, this, originalGet ? (...args) => originalGet.apply(this, args) : undefined)\r\n    }\r\n  }\r\n\r\n  // Check for user-defined setter\r\n  if (opts.set) {\r\n    const originalSet = descriptor.set\r\n    // Set user-defined setter\r\n    descriptor.set = function (children) {\r\n      // Call user-defined getter, passing in:\r\n      //  - target Model\r\n      //  - related Model\r\n      //  - instance of target Model\r\n      //  - instances of related Model\r\n      //  - the original setter function, in case the user wants to use it\r\n      return opts.set(Model, Relation, this, children, originalSet ? (...args) => originalSet.apply(this, args) : undefined)\r\n    }\r\n  }\r\n\r\n  // Finally, added property to prototype of target Model\r\n  Object.defineProperty(Model.prototype, localField, descriptor)\r\n\r\n  if (!Model.relationList) {\r\n    Model.relationList = []\r\n  }\r\n  if (!Model.relationFields) {\r\n    Model.relationFields = []\r\n  }\r\n  opts.type = 'hasMany'\r\n  opts.name = Model.name\r\n  opts.relation = Relation.name\r\n  opts.Relation = Relation\r\n  Model.relationList.push(opts)\r\n  Model.relationFields.push(localField)\r\n\r\n  // Return target Model for chaining\r\n  return Model\r\n}\r\n\r\n/**\r\n * Usage:\r\n *\r\n * ES7 Usage:\r\n * import {hasMany, Model} from 'js-data'\r\n * class Post extends Model {}\r\n * @hasMany(Post, {...})\r\n * class User extends Model {}\r\n *\r\n * ES6 Usage:\r\n * import {hasMany, Model} from 'js-data'\r\n * class User extends Model {}\r\n * class Comment extends Model {}\r\n * hasMany(Comment, {...})(User)\r\n *\r\n * ES5 Usage:\r\n * var JSData = require('js-data')\r\n * var User = JSData.Model.extend()\r\n * var Comment = JSDataModel.extend()\r\n * JSData.hasMany(User, {...})(Comment)\r\n */\r\nexport function hasMany (Model, opts) {\r\n  return function (target) {\r\n    target.dbg(op, 'Model:', Model, 'opts:', opts)\r\n    return applyHasMany(target, Model, opts)\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/hasMany.js\n **/","import {camelCase, get, set} from '../utils'\r\n\r\nconst op = 'hasOne'\r\n\r\n/**\r\n * Steps to apply a \"hasOne\" relationship\r\n * 1. Choose the foreignKey and localKey\r\n * 2. Configure property descriptor, possibly including custom getter/setter\r\n * 3. Add property to prototype of target Model\r\n *\r\n * The added property is where an instance of the related Model will be\r\n * attached to an instance of the target Model, e.g. if User hasOne\r\n * Profile and \"localField\" is set to \"profile\", \"user.profile\" will be a\r\n * reference to the profile.\r\n */\r\nfunction applyHasOne (Model, Relation, opts) {\r\n  opts || (opts = {})\r\n  // Choose field where the relation will be attached\r\n  const localField = opts.localField = opts.localField || camelCase(Relation.name)\r\n  // Choose field that holds the primary key of the relation\r\n  const foreignKey = opts.foreignKey = opts.foreignKey || `${camelCase(Model.name)}Id`\r\n\r\n  // Setup configuration of the property\r\n  const descriptor = {\r\n    // Whether the field specified by \"localField\" will show up in \"for...in\"\r\n    enumerable: opts.enumerable !== undefined ? !!opts.enumerable : false,\r\n    // Set default method for retrieving the linked relation\r\n    get () {\r\n      const items = Relation.getAll(get(this, Model.idAttribute), { index: foreignKey })\r\n      return items && items.length ? items[0] : undefined\r\n    },\r\n    // Set default method for setting the linked relation\r\n    set (child) {\r\n      set(child, foreignKey, get(this, Model.idAttribute))\r\n      return get(this, localField)\r\n    }\r\n  }\r\n\r\n  // Check whether the relation shouldn't actually be linked via a getter\r\n  if (opts.link === false || (opts.link === undefined && !Model.linkRelations)) {\r\n    delete descriptor.get\r\n    delete descriptor.set\r\n  }\r\n\r\n  // Check for user-defined getter\r\n  if (opts.get) {\r\n    const originalGet = descriptor.get\r\n    // Set user-defined getter\r\n    descriptor.get = function () {\r\n      // Call user-defined getter, passing in:\r\n      //  - target Model\r\n      //  - related Model\r\n      //  - instance of target Model\r\n      //  - the original getter function, in case the user wants to use it\r\n      return opts.get(Model, Relation, this, originalGet ? (...args) => originalGet.apply(this, args) : undefined)\r\n    }\r\n  }\r\n\r\n  // Check for user-defined setter\r\n  if (opts.set) {\r\n    const originalSet = descriptor.set\r\n    // Set user-defined setter\r\n    descriptor.set = function (child) {\r\n      // Call user-defined getter, passing in:\r\n      //  - target Model\r\n      //  - related Model\r\n      //  - instance of target Model\r\n      //  - instance of related Model\r\n      //  - the original setter function, in case the user wants to use it\r\n      return opts.set(Model, Relation, this, child, originalSet ? (...args) => originalSet.apply(this, args) : undefined)\r\n    }\r\n  }\r\n\r\n  // Finally, added property to prototype of target Model\r\n  Object.defineProperty(Model.prototype, localField, descriptor)\r\n\r\n  if (!Model.relationList) {\r\n    Model.relationList = []\r\n  }\r\n  if (!Model.relationFields) {\r\n    Model.relationFields = []\r\n  }\r\n  opts.type = 'hasOne'\r\n  opts.name = Model.name\r\n  opts.relation = Relation.name\r\n  opts.Relation = Relation\r\n  Model.relationList.push(opts)\r\n  Model.relationFields.push(localField)\r\n  Model.data().createIndex(foreignKey)\r\n\r\n  // Return target Model for chaining\r\n  return Model\r\n}\r\n\r\n/**\r\n * Usage:\r\n *\r\n * ES7 Usage:\r\n * import {hasOne, Model} from 'js-data'\r\n * class User extends Model {}\r\n * @hasOne(User, {...})\r\n * class Post extends Model {}\r\n *\r\n * ES6 Usage:\r\n * import {hasOne, Model} from 'js-data'\r\n * class User extends Model {}\r\n * class Comment extends Model {}\r\n * hasOne(User, {...})(Comment)\r\n *\r\n * ES5 Usage:\r\n * var JSData = require('js-data')\r\n * var User = JSData.Model.extend()\r\n * var Comment = JSDataModel.extend()\r\n * JSData.hasOne(User, {...})(Comment)\r\n */\r\nexport function hasOne (Model, opts) {\r\n  return function (target) {\r\n    target.dbg(op, 'Model:', Model, 'opts:', opts)\r\n    return applyHasOne(target, Model, opts)\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/hasOne.js\n **/","import {Collection} from '../collection'\r\n\r\nfunction errMsg (name) {\r\n  return `${name}: Schemas are not inheritable, did you forget to define a schema?`\r\n}\r\n\r\nconst op = 'initialize'\r\n\r\nexport function initialize (opts) {\r\n  opts || (opts = {})\r\n  return function (target) {\r\n    target.dbg(op, 'opts:', opts)\r\n    const collection = new Collection([], target.idAttribute)\r\n    target.data = function () {\r\n      // TODO: Do I need this?\r\n      if (this.data === Object.getPrototypeOf(this).data) {\r\n        throw new Error(errMsg(this.name))\r\n      }\r\n      return collection\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/initialize.js\n **/","import {\r\n  forOwn,\r\n  get\r\n} from '../utils'\r\nimport {validate} from '../validate'\r\nimport {configure} from './configure'\r\nimport {initialize} from './initialize'\r\n\r\nconst op = 'setSchema'\r\n\r\nfunction makeDescriptor (target, key, prop) {\r\n  const descriptor = {\r\n    enumerable: prop.enumerable !== undefined ? prop.enumerable : true,\r\n    configurable: prop.configurable !== undefined ? prop.configurable : true\r\n  }\r\n  descriptor.get = function () {\r\n    return this._get(`props.${key}`)\r\n  }\r\n  descriptor.set = function (value) {\r\n    // TODO: rework this\r\n    // if (isFunction(prop.validate) && !prop.validate(value)) {\r\n    //   return false\r\n    // }\r\n    const _get = this._get\r\n    const _set = this._set\r\n    const _unset = this._unset\r\n    if (!_get('noValidate')) {\r\n      const errors = validate(prop, value)\r\n      if (errors) {\r\n        throw new Error(errors.join(', '))\r\n      }\r\n    }\r\n    if (prop.track && !_get('creating')) {\r\n      const changing = _get('changing')\r\n      const previous = _get(`previous.${key}`)\r\n      const current = _get(`props.${key}`)\r\n      let changed = _get('changed')\r\n      if (!changing) {\r\n        changed = []\r\n      }\r\n      if (current !== value) {\r\n        changed.push(key)\r\n      }\r\n      if (previous !== value) {\r\n        _set(`changes.${key}`, value)\r\n      } else {\r\n        // TODO: this._unset\r\n        _unset(`changes.${key}`)\r\n      }\r\n      if (!changing && changed.length) {\r\n        _set('changed', changed)\r\n        _set('changing', true)\r\n        _set('eventId', setTimeout(() => {\r\n          _unset('changed')\r\n          _unset('eventId')\r\n          _unset('changing')\r\n          let i\r\n          for (i = 0; i < changed.length; i++) {\r\n            this.emit('change:' + changed[i], this, get(this, changed[i]))\r\n          }\r\n          this.emit('change', this, _get('changes'))\r\n        }, 0))\r\n      }\r\n    }\r\n    _set(`props.${key}`, value)\r\n    if (_get('$') && prop.indexed) {\r\n      target.data().updateRecord(this, { index: key })\r\n    }\r\n    return value\r\n  }\r\n  if (prop.indexed) {\r\n    // Update index\r\n    // TODO: Make this configurable, ie. immediate or lazy update\r\n    target.createIndex(key)\r\n  }\r\n  if (prop.get) {\r\n    if (descriptor.get) {\r\n      const originalGet = descriptor.get\r\n      descriptor.get = function () {\r\n        return prop.get.call(this, originalGet)\r\n      }\r\n    } else {\r\n      descriptor.get = prop.get\r\n    }\r\n  }\r\n  if (prop.set) {\r\n    if (descriptor.set) {\r\n      const originalSet = descriptor.set\r\n      descriptor.set = function (value) {\r\n        return prop.set.call(this, value, originalSet)\r\n      }\r\n    } else {\r\n      descriptor.set = prop.set\r\n    }\r\n  }\r\n  return descriptor\r\n}\r\n\r\n/**\r\n * Usage:\r\n *\r\n * @schema({\r\n *   first: {},\r\n *   last: {},\r\n *   role: {\r\n *     value: 'dev'\r\n *   },\r\n *   // computed property\r\n *   name: {\r\n *     get() { return `${this.first} ${this.last}` },\r\n *     set(value) {\r\n *       let parts = value.split(' ')\r\n *       this.first = parts[0]\r\n *       this.last = parts[1]\r\n *       return this\r\n *     }\r\n *   }\r\n * })\r\n * class User extends JSData.Model {...}\r\n *\r\n * let user = new User()\r\n * user.role // \"dev\"\r\n * user.name = 'John Anderson'\r\n * user.first // \"John\"\r\n * user.last // \"Anderson\"\r\n * user.first = \"Bill\"\r\n * user.name // \"Bill Anderson\"\r\n */\r\nexport function setSchema (opts) {\r\n  opts || (opts = {})\r\n\r\n  return function (target) {\r\n    target.dbg(op, 'opts:', opts)\r\n    try {\r\n      target.data()\r\n    } catch (err) {\r\n      initialize(opts)(target)\r\n    }\r\n\r\n    target.schema || (target.schema = {})\r\n    configure(target.schema, opts)\r\n\r\n    forOwn(opts, function (prop, key) {\r\n      const descriptor = makeDescriptor(target, key, prop)\r\n      // TODO: This won't work for properties of Object type, because all\r\n      // instances will share the prototype value\r\n      if (!descriptor.writable) {\r\n        Object.defineProperty(target.prototype, key, descriptor)\r\n      }\r\n    })\r\n    return target\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/schema.js\n **/","import {\r\n  forOwn,\r\n  isArray,\r\n  isBoolean,\r\n  isNumber,\r\n  isObject,\r\n  isString\r\n} from '../utils'\r\n\r\nconst types = {\r\n  array: isArray,\r\n  boolean: isBoolean,\r\n  integer: isNumber,\r\n  number: isNumber,\r\n  'null': function (value) {\r\n    return value === null\r\n  },\r\n  object: isObject,\r\n  string: isString\r\n}\r\n\r\nexport const rules = {\r\n  type (predicate, value) {\r\n    if (value === undefined) {\r\n      return\r\n    }\r\n    if (isString(predicate)) {\r\n      predicate = [predicate]\r\n    }\r\n    const errors = predicate.map(function (type) {\r\n      const validator = types[type]\r\n      if (!validator) {\r\n        return `type: Unknown type ${predicate}`\r\n      }\r\n      return validator(value) ? undefined : 1\r\n    })\r\n    return errors.indexOf(undefined) !== -1 ? undefined : `type: Expected: ${predicate.join(' or ')}. Actual: ${typeof value}`\r\n  },\r\n\r\n  anyOf (schemas, value) {\r\n    let validated = false\r\n    let allErrors = []\r\n    schemas.forEach(function (schema) {\r\n      const errors = validate(schema, value)\r\n      if (errors) {\r\n        allErrors = allErrors.concat(errors)\r\n      } else {\r\n        validated = true\r\n      }\r\n    })\r\n    return validated ? undefined : allErrors\r\n  },\r\n\r\n  allOf (schemas, value) {\r\n    let allErrors = []\r\n    schemas.forEach(function (schema) {\r\n      allErrors = allErrors.concat(validate(schema, value) || [])\r\n    })\r\n    return allErrors.length ? undefined : allErrors\r\n  },\r\n\r\n  oneOf (schemas, value) {\r\n    let validated = false\r\n    let allErrors = []\r\n    schemas.forEach(function (schema) {\r\n      const errors = validate(schema, value)\r\n      if (errors) {\r\n        allErrors = allErrors.concat(errors)\r\n      } else if (validated) {\r\n        allErrors = ['more than one schema validated']\r\n        validated = false\r\n        return false\r\n      } else {\r\n        validated = true\r\n      }\r\n    })\r\n    return validated ? undefined : allErrors\r\n  }\r\n}\r\n\r\nexport function validate (schema, value) {\r\n  const errors = []\r\n  forOwn(schema, function (predicate, rule) {\r\n    const validator = rules[rule]\r\n    if (validator) {\r\n      const err = validator(predicate, value)\r\n      if (err) {\r\n        errors.push(err)\r\n      }\r\n    }\r\n  })\r\n  return errors.length ? errors : undefined\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/validate/index.js\n **/","import {fillIn} from '../utils'\r\n\r\nconst op = 'registerAdapter'\r\n\r\n/**\r\n * Add the provided adapter to the target's \"adapters\" property, registering it\r\n * with the specified.\r\n *\r\n * @param {string} name - The name under which to register the adapter.\r\n * @param {Adapter} adapter - The adapter to register.\r\n * @param {?Object} opts - Optional configuration. Properties:\r\n * - {boolean=false} default - Whether to make the adapter the default adapter for the target.\r\n */\r\nexport function registerAdapter (name, adapter, opts) {\r\n  opts || (opts = {})\r\n  opts.op = op\r\n  return function (target) {\r\n    target.dbg(op, 'name:', name, 'adapter:', adapter, 'opts:', opts)\r\n    // ES6 class inheritance copies static properties, so here we check to make\r\n    // sure that the target's \"adapters\" property is not actually a reference to\r\n    // the parent's \"adapters\" property.\r\n    if (target.adapters && target.adapters === Object.getPrototypeOf(target).adapters) {\r\n      // Give the target its own \"adapters\" hash.\r\n      target.adapters = {}\r\n      // Add back the adapters that were already registered with the parent.\r\n      fillIn(target.adapters, Object.getPrototypeOf(target).adapters)\r\n    }\r\n    // Register the adapter\r\n    target.adapters[name] = adapter\r\n    // Optionally make it the default adapter for the target.\r\n    if (opts === true || opts.default) {\r\n      target.defaultAdapter = name\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/decorators/adapter.js\n **/","// Copyright (c) 2015, InternalFX.\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any purpose with or\r\n// without fee is hereby granted, provided that the above copyright notice and this permission\r\n// notice appear in all copies.\r\n\r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO\r\n// THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT\r\n// SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR\r\n// ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION\r\n// OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE\r\n// USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n// Modifications\r\n// Copyright 2015 Jason Dobry\r\n//\r\n// Summary of modifications:\r\n// Converted to ES6 Class syntax\r\n// Reworked dependencies so as to re-use code already in js-data\r\nimport {copy, fillIn, isArray, omit} from '../../src/utils'\r\nimport {configure} from '../../src/decorators'\r\nimport {binarySearch, insertAt, removeAt} from './utils'\r\n\r\nexport function Index (fieldList = [], idAttribute) {\r\n  if (!isArray(fieldList)) {\r\n    throw new Error('fieldList must be an array.')\r\n  }\r\n\r\n  this.fieldList = fieldList\r\n  this.idAttribute = idAttribute\r\n  this.isIndex = true\r\n  this.keys = []\r\n  this.values = []\r\n}\r\n\r\nconfigure({\r\n  set (keyList, value) {\r\n    if (!isArray(keyList)) {\r\n      keyList = [keyList]\r\n    }\r\n\r\n    let key = keyList.shift() || null\r\n    let pos = binarySearch(this.keys, key)\r\n\r\n    if (keyList.length === 0) {\r\n      if (pos.found) {\r\n        let dataLocation = binarySearch(this.values[pos.index], value, this.idAttribute)\r\n        if (!dataLocation.found) {\r\n          insertAt(this.values[pos.index], dataLocation.index, value)\r\n        }\r\n      } else {\r\n        insertAt(this.keys, pos.index, key)\r\n        insertAt(this.values, pos.index, [value])\r\n      }\r\n    } else {\r\n      if (pos.found) {\r\n        this.values[pos.index].set(keyList, value)\r\n      } else {\r\n        insertAt(this.keys, pos.index, key)\r\n        let newIndex = new Index([], this.idAttribute)\r\n        newIndex.set(keyList, value)\r\n        insertAt(this.values, pos.index, newIndex)\r\n      }\r\n    }\r\n  },\r\n\r\n  get (keyList) {\r\n    if (!isArray(keyList)) {\r\n      keyList = [keyList]\r\n    }\r\n\r\n    let key = keyList.shift() || null\r\n    let pos = binarySearch(this.keys, key)\r\n\r\n    if (keyList.length === 0) {\r\n      if (pos.found) {\r\n        if (this.values[pos.index].isIndex) {\r\n          return this.values[pos.index].getAll()\r\n        } else {\r\n          return this.values[pos.index]\r\n        }\r\n      } else {\r\n        return []\r\n      }\r\n    } else {\r\n      if (pos.found) {\r\n        return this.values[pos.index].get(keyList)\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n\r\n  getAll () {\r\n    let results = []\r\n    this.values.forEach(function (value) {\r\n      if (value.isIndex) {\r\n        results = results.concat(value.getAll())\r\n      } else {\r\n        results = results.concat(value)\r\n      }\r\n    })\r\n    return results\r\n  },\r\n\r\n  visitAll (cb, thisArg) {\r\n    this.values.forEach(function (value) {\r\n      if (value.isIndex) {\r\n        value.visitAll(cb, thisArg)\r\n      } else {\r\n        value.forEach(cb, thisArg)\r\n      }\r\n    })\r\n  },\r\n\r\n  query (query) {\r\n    let leftKeys\r\n    let rightKeys\r\n\r\n    if (query['>']) {\r\n      leftKeys = query['>']\r\n      query.leftInclusive = false\r\n    } else if (query['>=']) {\r\n      leftKeys = query['>=']\r\n      query.leftInclusive = true\r\n    }\r\n\r\n    if (query['<']) {\r\n      rightKeys = query['<']\r\n      query.rightInclusive = false\r\n    } else if (query['<=']) {\r\n      rightKeys = query['<=']\r\n      query.rightInclusive = true\r\n    }\r\n\r\n    if (leftKeys.length !== rightKeys.length) {\r\n      throw new Error('Key arrays must be same length')\r\n    }\r\n\r\n    return this.between(leftKeys, rightKeys, omit(query, ['>', '>=', '<', '<=']))\r\n  },\r\n\r\n  between (leftKeys, rightKeys, opts = {}) {\r\n    if (!isArray(leftKeys)) {\r\n      leftKeys = [leftKeys]\r\n    }\r\n    if (!isArray(rightKeys)) {\r\n      rightKeys = [rightKeys]\r\n    }\r\n    fillIn(opts, {\r\n      leftInclusive: true,\r\n      rightInclusive: false,\r\n      limit: undefined,\r\n      offset: 0\r\n    })\r\n\r\n    let results = this._between(leftKeys, rightKeys, opts)\r\n\r\n    if (opts.limit) {\r\n      return results.slice(opts.offset, opts.limit + opts.offset)\r\n    } else {\r\n      return results.slice(opts.offset)\r\n    }\r\n  },\r\n\r\n  _between (leftKeys, rightKeys, opts) {\r\n    let results = []\r\n\r\n    let leftKey = leftKeys.shift()\r\n    let rightKey = rightKeys.shift()\r\n\r\n    let pos\r\n\r\n    if (leftKey !== undefined) {\r\n      pos = binarySearch(this.keys, leftKey)\r\n    } else {\r\n      pos = {\r\n        found: false,\r\n        index: 0\r\n      }\r\n    }\r\n\r\n    if (leftKeys.length === 0) {\r\n      if (pos.found && opts.leftInclusive === false) {\r\n        pos.index += 1\r\n      }\r\n\r\n      for (let i = pos.index; i < this.keys.length; i += 1) {\r\n        if (rightKey !== undefined) {\r\n          if (opts.rightInclusive) {\r\n            if (this.keys[i] > rightKey) { break }\r\n          } else {\r\n            if (this.keys[i] >= rightKey) { break }\r\n          }\r\n        }\r\n\r\n        if (this.values[i].isIndex) {\r\n          results = results.concat(this.values[i].getAll())\r\n        } else {\r\n          results = results.concat(this.values[i])\r\n        }\r\n\r\n        if (opts.limit) {\r\n          if (results.length >= (opts.limit + opts.offset)) {\r\n            break\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      for (let i = pos.index; i < this.keys.length; i += 1) {\r\n        let currKey = this.keys[i]\r\n        if (currKey > rightKey) { break }\r\n\r\n        if (this.values[i].isIndex) {\r\n          if (currKey === leftKey) {\r\n            results = results.concat(this.values[i]._between(copy(leftKeys), rightKeys.map(function () { return undefined }), opts))\r\n          } else if (currKey === rightKey) {\r\n            results = results.concat(this.values[i]._between(leftKeys.map(function () { return undefined }), copy(rightKeys), opts))\r\n          } else {\r\n            results = results.concat(this.values[i].getAll())\r\n          }\r\n        } else {\r\n          results = results.concat(this.values[i])\r\n        }\r\n\r\n        if (opts.limit) {\r\n          if (results.length >= (opts.limit + opts.offset)) {\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (opts.limit) {\r\n      return results.slice(0, opts.limit + opts.offset)\r\n    } else {\r\n      return results\r\n    }\r\n  },\r\n\r\n  remove (keyList, value) {\r\n    if (!isArray(keyList)) {\r\n      keyList = [keyList]\r\n    }\r\n\r\n    let key = keyList.shift()\r\n    let pos = binarySearch(this.keys, key)\r\n\r\n    if (keyList.length === 0) {\r\n      if (pos.found) {\r\n        let dataLocation = binarySearch(this.values[pos.index], value, this.idAttribute)\r\n        if (dataLocation.found) {\r\n          removeAt(this.values[pos.index], dataLocation.index)\r\n          if (this.values[pos.index].length === 0) {\r\n            removeAt(this.keys, pos.index)\r\n            removeAt(this.values, pos.index)\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (pos.found) {\r\n        this.values[pos.index].delete(keyList, value)\r\n      }\r\n    }\r\n  },\r\n\r\n  clear () {\r\n    this.keys = []\r\n    this.values = []\r\n  },\r\n\r\n  insertRecord (data) {\r\n    let keyList = this.fieldList.map(function (field) {\r\n      return data[field] || null\r\n    })\r\n\r\n    this.set(keyList, data)\r\n  },\r\n\r\n  removeRecord (data) {\r\n    let keyList = this.fieldList.map(function (field) {\r\n      return data[field] || null\r\n    })\r\n\r\n    this.remove(keyList, data)\r\n  },\r\n\r\n  updateRecord (data) {\r\n    this.removeRecord(data)\r\n    this.insertRecord(data)\r\n  }\r\n})(Index.prototype)\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/lib/mindex/index.js\n **/","export function sort (a, b, field) {\r\n  // Short-curcuit comparison if a and b are strictly equal\r\n  // This is absolutely necessary for indexed objects that\r\n  // don't have the idAttribute field\r\n  if (a === b) {\r\n    return 0\r\n  }\r\n  if (field) {\r\n    a = a[field]\r\n    b = b[field]\r\n  }\r\n  if (a === null && b === null) {\r\n    return 0\r\n  }\r\n\r\n  if (a === null) {\r\n    return -1\r\n  }\r\n\r\n  if (b === null) {\r\n    return 1\r\n  }\r\n\r\n  if (a < b) {\r\n    return -1\r\n  }\r\n\r\n  if (a > b) {\r\n    return 1\r\n  }\r\n\r\n  return 0\r\n}\r\n\r\nexport function insertAt (array, index, value) {\r\n  array.splice(index, 0, value)\r\n  return array\r\n}\r\n\r\nexport function removeAt (array, index) {\r\n  array.splice(index, 1)\r\n  return array\r\n}\r\n\r\nexport function binarySearch (array, value, field) {\r\n  let lo = 0\r\n  let hi = array.length\r\n  let compared\r\n  let mid\r\n\r\n  while (lo < hi) {\r\n    mid = ((lo + hi) / 2) | 0\r\n    compared = sort(value, array[mid], field)\r\n    if (compared === 0) {\r\n      return {\r\n        found: true,\r\n        index: mid\r\n      }\r\n    } else if (compared < 0) {\r\n      hi = mid\r\n    } else {\r\n      lo = mid + 1\r\n    }\r\n  }\r\n\r\n  return {\r\n    found: false,\r\n    index: hi\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/lib/mindex/utils.js\n **/","/* jshint eqeqeq:false */\r\nimport {configure} from '../decorators'\r\nimport {forOwn, isFunction} from '../utils'\r\nimport {Model} from '../model'\r\n\r\n// function lifecycleNoopCb (resource, attrs, cb) {\r\n//   cb(null, attrs)\r\n// }\r\n\r\n// function lifecycleNoop (resource, attrs) {\r\n//   return attrs\r\n// }\r\n\r\n// class Defaults {\r\n//   errorFn (a, b) {\r\n//     if (this.error && typeof this.error === 'function') {\r\n//       try {\r\n//         if (typeof a === 'string') {\r\n//           throw new Error(a)\r\n//         } else {\r\n//           throw a\r\n//         }\r\n//       } catch (err) {\r\n//         a = err\r\n//       }\r\n//       this.error(this.name || null, a || null, b || null)\r\n//     }\r\n//   }\r\n// }\r\n\r\n// var defaultsPrototype = Defaults.prototype\r\n\r\n// defaultsPrototype.actions = {}\r\n// defaultsPrototype.afterCreate = lifecycleNoopCb\r\n// defaultsPrototype.afterCreateCollection = lifecycleNoop\r\n// defaultsPrototype.afterCreateInstance = lifecycleNoop\r\n// defaultsPrototype.afterDestroy = lifecycleNoopCb\r\n// defaultsPrototype.afterEject = lifecycleNoop\r\n// defaultsPrototype.afterFind = lifecycleNoopCb\r\n// defaultsPrototype.afterFindAll = lifecycleNoopCb\r\n// defaultsPrototype.afterInject = lifecycleNoop\r\n// defaultsPrototype.afterLoadRelations = lifecycleNoopCb\r\n// defaultsPrototype.afterReap = lifecycleNoop\r\n// defaultsPrototype.afterUpdate = lifecycleNoopCb\r\n// defaultsPrototype.afterValidate = lifecycleNoopCb\r\n// defaultsPrototype.allowSimpleWhere = true\r\n// defaultsPrototype.basePath = ''\r\n// defaultsPrototype.beforeCreate = lifecycleNoopCb\r\n// defaultsPrototype.beforeCreateCollection = lifecycleNoop\r\n// defaultsPrototype.beforeCreateInstance = lifecycleNoop\r\n// defaultsPrototype.beforeDestroy = lifecycleNoopCb\r\n// defaultsPrototype.beforeEject = lifecycleNoop\r\n// defaultsPrototype.beforeInject = lifecycleNoop\r\n// defaultsPrototype.beforeReap = lifecycleNoop\r\n// defaultsPrototype.beforeUpdate = lifecycleNoopCb\r\n// defaultsPrototype.beforeValidate = lifecycleNoopCb\r\n// defaultsPrototype.bypassCache = false\r\n// defaultsPrototype.cacheResponse = !!DSUtils.w\r\n// defaultsPrototype.csp = false\r\n// defaultsPrototype.clearEmptyQueries = true\r\n// defaultsPrototype.computed = {}\r\n// defaultsPrototype.defaultAdapter = 'http'\r\n// defaultsPrototype.debug = false\r\n// defaultsPrototype.defaultValues = {}\r\n// defaultsPrototype.eagerEject = false\r\n// // TODO: Implement eagerInject in DS#create\r\n// defaultsPrototype.eagerInject = false\r\n// defaultsPrototype.endpoint = ''\r\n// defaultsPrototype.error = console ? (a, b, c) => console[typeof console.error === 'function' ? 'error' : 'log'](a, b, c) : false\r\n// defaultsPrototype.errorHandler = function (...args) {\r\n//   return DSUtils.Promise.reject(args[0])\r\n// }\r\n// defaultsPrototype.fallbackAdapters = ['http']\r\n// defaultsPrototype.findStrictCache = false\r\n// defaultsPrototype.idAttribute = 'id'\r\n// defaultsPrototype.ignoredChanges = [/\\$/]\r\n// defaultsPrototype.instanceEvents = !!DSUtils.w\r\n// defaultsPrototype.keepChangeHistory = false\r\n// defaultsPrototype.linkRelations = !!DSUtils.w\r\n// defaultsPrototype.log = console ? (a, b, c, d, e) => console[typeof console.info === 'function' ? 'info' : 'log'](a, b, c, d, e) : false\r\n\r\n// defaultsPrototype.logFn = function (a, b, c, d) {\r\n//   let _this = this\r\n//   if (_this.debug && _this.log && typeof _this.log === 'function') {\r\n//     _this.log(_this.name || null, a || null, b || null, c || null, d || null)\r\n//   }\r\n// }\r\n\r\n// defaultsPrototype.maxAge = false\r\n// defaultsPrototype.methods = {}\r\n// defaultsPrototype.notify = !!DSUtils.w\r\n// defaultsPrototype.omit = []\r\n// defaultsPrototype.onConflict = 'merge'\r\n// defaultsPrototype.reapAction = DSUtils.w ? 'inject' : 'none'\r\n// defaultsPrototype.reapInterval = DSUtils.w ? 30000 : false\r\n// defaultsPrototype.relationsEnumerable = false\r\n// defaultsPrototype.resetHistoryOnInject = true\r\n// defaultsPrototype.returnMeta = false\r\n// defaultsPrototype.scopes = {}\r\n// defaultsPrototype.strategy = 'single'\r\n// defaultsPrototype.upsert = !!DSUtils.w\r\n// defaultsPrototype.useClass = true\r\n// defaultsPrototype.useFilter = false\r\n// defaultsPrototype.validate = lifecycleNoopCb\r\n// defaultsPrototype.watchChanges = !!DSUtils.w\r\n\r\n// class _DS {\r\n//   constructor (options) {\r\n//     let _this = this\r\n//     options = options || {}\r\n\r\n//     _this.store = {}\r\n//     _this.definitions = {}\r\n//     _this.adapters = {}\r\n//     _this.defaults = new Defaults()\r\n//     _this.observe = DSUtils.observe\r\n//     DSUtils.forOwn(options, function (v, k) {\r\n//       if (k === 'omit') {\r\n//         _this.defaults.omit = v.concat(Defaults.prototype.omit)\r\n//       } else {\r\n//         _this.defaults[k] = v\r\n//       }\r\n//     })\r\n//     _this.defaults.logFn('new data store created', _this.defaults)\r\n\r\n//     DSUtils.Events(_this)\r\n//   }\r\n\r\n//   getAdapterName (options) {\r\n//     let errorIfNotExist = false\r\n//     options = options || {}\r\n//     this.defaults.logFn('getAdapterName', options)\r\n//     if (DSUtils._s(options)) {\r\n//       errorIfNotExist = true\r\n//       options = {\r\n//         adapter: options\r\n//       }\r\n//     }\r\n//     if (this.adapters[options.adapter]) {\r\n//       return options.adapter\r\n//     } else if (errorIfNotExist) {\r\n//       throw new Error(`${options.adapter} is not a registered adapter!`)\r\n//     } else {\r\n//       return options.defaultAdapter\r\n//     }\r\n//   }\r\n\r\n//   getAdapter (options) {\r\n//     options = options || {}\r\n//     this.defaults.logFn('getAdapter', options)\r\n//     return this.adapters[this.getAdapterName(options)]\r\n//   }\r\n\r\n//   registerAdapter (name, Adapter, options) {\r\n//     let _this = this\r\n//     options = options || {}\r\n//     _this.defaults.logFn('registerAdapter', name, Adapter, options)\r\n//     if (DSUtils.isFunction(Adapter)) {\r\n//       _this.adapters[name] = new Adapter(options)\r\n//     } else {\r\n//       _this.adapters[name] = Adapter\r\n//     }\r\n//     if (options.default) {\r\n//       _this.defaults.defaultAdapter = name\r\n//     }\r\n//     _this.defaults.logFn(`default adapter is ${_this.defaults.defaultAdapter}`)\r\n//   }\r\n\r\n//   errorFn (...args) {\r\n//     let options = args[args.length - 1]\r\n//     let defaultHandler = this.defaults.errorHandler\r\n//     let errorHandler = options ? options.errorHandler : defaultHandler\r\n//     errorHandler = errorHandler || defaultHandler\r\n//     return function (err) {\r\n//       return errorHandler(err, ...args)\r\n//     }\r\n//   }\r\n// }\r\n\r\n// var dsPrototype = _DS.prototype\r\n\r\n// dsPrototype.getAdapterName.shorthand = false\r\n// dsPrototype.getAdapter.shorthand = false\r\n// dsPrototype.registerAdapter.shorthand = false\r\n// dsPrototype.errors = DSErrors\r\n// dsPrototype.utils = DSUtils\r\n\r\nexport function DS (opts) {\r\n  opts || (opts = {})\r\n  this.definitions = {}\r\n}\r\n\r\nconfigure({\r\n  clear () {\r\n    const ejected = {}\r\n    forOwn(this.definitions, definition => {\r\n      const name = definition.name\r\n      ejected[name] = definition.ejectAll()\r\n    })\r\n    return ejected\r\n  },\r\n\r\n  defineModel (opts) {\r\n    const Child = Model.extend(opts.methods || {}, opts)\r\n    this.definitions[Child.name] = Child\r\n    return Child\r\n  }\r\n})(DS.prototype)\r\n\r\nDS.prototype.defineResource = DS.prototype.defineModel\r\n\r\nforOwn(Model, function (value, key) {\r\n  if (isFunction(value)) {\r\n    DS.prototype[key] = function (name, ...args) {\r\n      if (!this.definitions[name]) {\r\n        throw new Error(`${name} is not a registered Model!`)\r\n      }\r\n      return this.definitions[name][key](...args)\r\n    }\r\n  }\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/datastore/index.js\n **/","import * as utils from '../utils'\r\nimport {\r\n  belongsTo,\r\n  configure,\r\n  hasMany,\r\n  hasOne,\r\n  initialize,\r\n  setSchema,\r\n  registerAdapter\r\n} from '../decorators'\r\nimport * as validate from '../validate'\r\n\r\nconst {\r\n  resolve\r\n} = utils\r\n\r\nlet isBrowser = false\r\n\r\ntry {\r\n  isBrowser = !!window\r\n} catch (e) {\r\n}\r\n\r\nconst handleResponse = function handleResponse (model, data, opts, adapterName) {\r\n  if (opts.raw) {\r\n    data.adapter = adapterName\r\n    if (opts.autoInject) {\r\n      data.data = model.inject(data.data)\r\n    }\r\n    return data\r\n  } else if (opts.autoInject) {\r\n    data = model.inject(data)\r\n  }\r\n  return data\r\n}\r\n\r\n// This is here so Babel will give us\r\n// the inheritance helpers which we\r\n// can re-use for the \"extend\" method\r\nclass BaseModel {}\r\n\r\nexport class Model extends BaseModel {\r\n  constructor (props, opts) {\r\n    super()\r\n    props || (props = {})\r\n    opts || (opts = {})\r\n    const $$props = {}\r\n    Object.defineProperties(this, {\r\n      _get: {\r\n        value: function (key) { return utils.get($$props, key) }\r\n      },\r\n      _set: {\r\n        value: function (key, value) { return utils.set($$props, key, value) }\r\n      },\r\n      _unset: {\r\n        value: function (key) { return utils.unset($$props, key) }\r\n      }\r\n    })\r\n    this._set('creating', true)\r\n    if (opts.noValidate) {\r\n      this._set('noValidate', true)\r\n    }\r\n    configure(props)(this)\r\n    this._unset('creating')\r\n    this._unset('noValidate')\r\n    this._set('previous', utils.copy(props))\r\n  }\r\n\r\n  schema (key) {\r\n    let _schema = this.constructor.schema\r\n    return key ? _schema[key] : _schema\r\n  }\r\n\r\n  validate (obj, value) {\r\n    let errors = []\r\n    let _schema = this.schema()\r\n    if (!obj) {\r\n      obj = this\r\n    } else if (utils.isString(obj)) {\r\n      const prop = _schema[obj]\r\n      if (prop) {\r\n        errors = validate.validate(prop, value) || []\r\n      }\r\n    } else {\r\n      utils.forOwn(_schema, function (prop, key) {\r\n        errors = errors.concat(validate.validate(prop, utils.get(obj, key)) || [])\r\n      })\r\n    }\r\n    return errors.length ? errors : undefined\r\n  }\r\n\r\n  // Instance methods\r\n  create (opts) {\r\n    return this.constructor.create(this, opts)\r\n  }\r\n\r\n  save (opts) {\r\n    // TODO: move actual save logic here\r\n    const Ctor = this.constructor\r\n\r\n    const adapterName = Ctor.getAdapterName(opts)\r\n    return Ctor.getAdapter(adapterName)\r\n      .update(Ctor, utils.get(this, Ctor.idAttribute), this, opts)\r\n  }\r\n\r\n  destroy (opts) {\r\n    // TODO: move actual destroy logic here\r\n    const Ctor = this.constructor\r\n    return Ctor.destroy(utils.get(this, Ctor.idAttribute), opts)\r\n  }\r\n\r\n  // TODO: move logic for single-item async operations onto the instance.\r\n\r\n  /**\r\n   * Return the value at the given path for this instance.\r\n   *\r\n   * @param {string} key - Path of value to retrieve.\r\n   * @return {*} Value at path.\r\n   */\r\n  ['get'] (key) {\r\n    return utils.get(this, key)\r\n  }\r\n\r\n  /**\r\n   * Set the value for a given key, or the values for the given keys if \"key\" is\r\n   * an object.\r\n   *\r\n   * @param {(string|Object)} key - Key to set or hash of key-value pairs to set.\r\n   * @param {?*} value - Value to set for the given key.\r\n   * @param {?Object} - Optional configuration. Properties:\r\n   *   - {boolean=true} silent - Whether to trigger change events.\r\n   */\r\n  ['set'] (key, value, opts) {\r\n    opts || (opts = {})\r\n    // TODO: implement \"silent\"\r\n    return utils.set(this, key, value)\r\n  }\r\n\r\n  /**\r\n   * Return a plain object representation of this instance.\r\n   *\r\n   * @param {?Object} opts - Optional configuration. Properties:\r\n   *   - {string[]} with - Array of relation names or relation fields to include in the representation.\r\n   * @return {Object} Plain object representation of instance.\r\n   */\r\n  toJSON (opts) {\r\n    opts || (opts = {})\r\n    const Ctor = this.constructor\r\n    let json = this\r\n    if (this instanceof Model) {\r\n      json = {}\r\n      utils.set(json, this)\r\n      if (Ctor && Ctor.relationList && opts.with) {\r\n        if (utils.isString(opts.with)) {\r\n          opts.with = [opts.with]\r\n        }\r\n        Ctor.relationList.forEach(def => {\r\n          let containedName\r\n          if (opts.with.indexOf(def.relation) !== -1) {\r\n            containedName = def.relation\r\n          } else if (opts.with.indexOf(def.localField) !== -1) {\r\n            containedName = def.localField\r\n          }\r\n          if (containedName) {\r\n            const optsCopy = { with: opts.with.slice() }\r\n            optsCopy.with.splice(optsCopy.with.indexOf(containedName), 1)\r\n            optsCopy.with.forEach((relation, i) => {\r\n              if (relation && relation.indexOf(containedName) === 0 && relation.length >= containedName.length && relation[containedName.length] === '.') {\r\n                optsCopy.with[i] = relation.substr(containedName.length + 1)\r\n              } else {\r\n                optsCopy.with[i] = ''\r\n              }\r\n            })\r\n            const relationData = utils.get(this, def.localField)\r\n            if (relationData) {\r\n              if (utils.isArray(relationData)) {\r\n                utils.set(json, def.localField, relationData.map(item => def.Relation.prototype.toJSON.call(item, optsCopy)))\r\n              } else {\r\n                utils.set(json, def.localField, def.Relation.prototype.toJSON.call(relationData, optsCopy))\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return json\r\n  }\r\n\r\n  /**\r\n   * Static methods\r\n   */\r\n\r\n  /**\r\n   * Return a reference to the Collection instance of this Model.\r\n   *\r\n   * Will throw an error if a schema has not been defined for this Model.\r\n   * When the schema is defined, this method is replaced with one that can\r\n   * return the Collection instance.\r\n   *\r\n   * A schema can be created automatically if .extend is used to create the\r\n   * class, but ES6 or ES7 class definitions will need to use .schema(opts) or\r\n   * @schema(opts) to get the schema initialized.\r\n   *\r\n   * @throws {Error} Schema must already be defined for Model.\r\n   * @return {Collection} The Collection instance of this Model.\r\n   */\r\n  static data () {\r\n    throw new Error(`${this.name}.data(): Did you forget to define a schema?`)\r\n  }\r\n\r\n  /**\r\n   * Create a new secondary index in the Collection instance of this Model.\r\n   *\r\n   * @param {string} name - The name of the new secondary index\r\n   * @param {string[]} keyList - The list of keys to be used to create the index.\r\n   */\r\n  static createIndex (name, keyList) {\r\n    this.dbg('createIndex', 'name:', name, 'keyList:', keyList)\r\n    this.data().createIndex(name, keyList)\r\n  }\r\n\r\n  /**\r\n   * Create a new instance of this Model from the provided properties.\r\n   *\r\n   * @param {Object} props - The initial properties of the new instance.\r\n   * @return {Model} The instance.\r\n   */\r\n  static createInstance (props) {\r\n    let Ctor = this\r\n    // Check to make sure \"props\" is not already an instance of this Model.\r\n    return props instanceof Ctor ? props : new Ctor(props)\r\n  }\r\n\r\n  /**\r\n   * Check whether \"instance\" is actually an instance of this Model.\r\n   *\r\n   * @param {Model} The instance to check.\r\n   * @return {boolean} Whether \"instance\" is an instance of this Model.\r\n   */\r\n  static is (instance) {\r\n    return instance instanceof this\r\n  }\r\n\r\n  /**\r\n   * Insert the provided item or items into the Collection instance of this\r\n   * Model.\r\n   *\r\n   * If an item is already in the collection then the provided item will either\r\n   * merge with or replace the existing item based on the value of the\r\n   * \"onConflict\" option.\r\n   *\r\n   * The collection's secondary indexes will be updated as each item is visited.\r\n   *\r\n   * @param {(Object|Object[]|Model|Model[])} items - The item or items to insert.\r\n   * @param {?Object} opts - Optional configuration. Properties:\r\n   *   - {string} onConflict - What to do when an item is already in the Collection instance. May be \"merge\" or \"replace\".\r\n   * @return {(Model|Model[])} Whether \"instance\" is an instance of this Model.\r\n   */\r\n  static inject (items, opts) {\r\n    const _this = this\r\n    const op = 'inject'\r\n    _this.dbg(op, 'item(s):', items, 'opts:', opts)\r\n    opts || (opts = {})\r\n    opts.op = op\r\n    let singular = false\r\n    const collection = _this.data()\r\n    const idAttribute = _this.idAttribute\r\n    const relationList = _this.relationList || []\r\n    if (!utils.isArray(items)) {\r\n      items = [items]\r\n      singular = true\r\n    }\r\n    items.forEach(function (props) {\r\n      relationList.forEach(function (def) {\r\n        const Relation = def.Relation\r\n        const toInject = utils.get(props, def.localField)\r\n        if (utils.isFunction(def.inject)) {\r\n          def.inject(_this, def, props)\r\n        } else if (toInject && def.inject !== false) {\r\n          if (utils.isArray(toInject)) {\r\n            toInject.forEach(function (toInjectItem) {\r\n              if (toInjectItem !== Relation.get(utils.get(toInjectItem, Relation.idAttribute))) {\r\n                try {\r\n                  if (def.foreignKey) {\r\n                    utils.set(toInjectItem, def.foreignKey, utils.get(props, idAttribute))\r\n                  }\r\n                  Relation.inject(toInjectItem)\r\n                } catch (err) {\r\n                  throw new Error(`Failed to inject ${def.type} relation: \"${def.relation}\"!`)\r\n                }\r\n              }\r\n            })\r\n            if (def.localKeys) {\r\n              utils.set(toInject, def.localKeys, toInject.map(function (injected) {\r\n                return utils.get(injected, Relation.idAttribute)\r\n              }))\r\n            }\r\n          } else {\r\n            // handle injecting belongsTo and hasOne relations\r\n            if (toInject !== Relation.get(Relation.idAttribute)) {\r\n              try {\r\n                if (def.localKey) {\r\n                  utils.set(props, def.localKey, utils.get(toInject, Relation.idAttribute))\r\n                }\r\n                if (def.foreignKey) {\r\n                  utils.set(toInject, def.foreignKey, utils.get(props, idAttribute))\r\n                }\r\n                Relation.inject(toInject)\r\n              } catch (err) {\r\n                throw new Error(`Failed to inject ${def.type} relation: \"${def.relation}\"!`)\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // remove relation properties from the item, since those relations have been injected by now\r\n        if (typeof def.link === 'boolean' ? def.link : !!_this.linkRelations) {\r\n          utils.unset(props, def.localField)\r\n        }\r\n      })\r\n    })\r\n    items = items.map(function (props) {\r\n      const id = utils.get(props, idAttribute)\r\n      if (!id) {\r\n        throw new TypeError(`User#${idAttribute}: Expected string or number, found ${typeof id}!`)\r\n      }\r\n      const existing = _this.get(id)\r\n\r\n      if (existing) {\r\n        const onConflict = opts.onConflict || _this.onConflict\r\n        if (onConflict === 'merge') {\r\n          utils.deepMixIn(existing, props)\r\n        } else if (onConflict === 'replace') {\r\n          utils.forOwn(existing, (value, key) => {\r\n            if (key !== idAttribute && !props.hasOwnProperty(key)) {\r\n              delete existing[key]\r\n            }\r\n          })\r\n          existing.set(props)\r\n        }\r\n        props = existing\r\n      } else {\r\n        props = _this.createInstance(props)\r\n        props._set('$', true)\r\n        collection.index.insertRecord(props)\r\n      }\r\n      utils.forOwn(collection.indexes, function (index) {\r\n        index.updateRecord(props)\r\n      })\r\n      return props\r\n    })\r\n    return singular ? (items.length ? items[0] : undefined) : items\r\n  }\r\n\r\n  /**\r\n   * Remove the instance with the given primary key from the Collection instance\r\n   * of this Model.\r\n   *\r\n   * @param {(string|number)} id - The primary key of the instance to be removed.\r\n   * @return {Model} The removed item, if any.\r\n   */\r\n  static eject (id, opts) {\r\n    const op = 'eject'\r\n    this.dbg(op, 'id:', id, 'opts:', opts)\r\n    opts || (opts = {})\r\n    opts.op = op\r\n    const item = this.get(id)\r\n    if (item) {\r\n      item._unset('$')\r\n      this.data().remove(item)\r\n    }\r\n    return item\r\n  }\r\n\r\n  /**\r\n   * Remove the instances selected by \"query\" from the Collection instance of\r\n   * this Model.\r\n   *\r\n   * @param {?Object} query - The query used to select instances to remove.\r\n   * @return {Model[]} The removed instances, if any.\r\n   */\r\n  static ejectAll (params, opts) {\r\n    const op = 'ejectAll'\r\n    this.dbg(op, 'params:', params, 'opts:', opts)\r\n    opts || (opts = {})\r\n    opts.op = op\r\n    const items = this.filter(params)\r\n    const collection = this.data()\r\n    items.forEach(function (item) {\r\n      collection.remove(item)\r\n    })\r\n    return items\r\n  }\r\n\r\n  /**\r\n   * Return the instance in the Collection instance of this Model that has\r\n   * the given primary key, if such an instance can be found.\r\n   *\r\n   * @param {(string|number)} id - Primary key of the instance to retrieve.\r\n   * @return {?Model} The instance or undefined.\r\n   */\r\n  static get (id) {\r\n    this.dbg('get', 'id:', id)\r\n    const instances = this.data().get(id)\r\n    return instances.length ? instances[0] : undefined\r\n  }\r\n\r\n  /**\r\n   * Proxy for Collection#between\r\n   */\r\n  static between (...args) {\r\n    return this.data().between(...args)\r\n  }\r\n\r\n  /**\r\n   * Proxy for Collection#getAll\r\n   */\r\n  static getAll (...args) {\r\n    return this.data().getAll(...args)\r\n  }\r\n\r\n  /**\r\n   * Proxy for Collection#filter\r\n   */\r\n  static filter (opts) {\r\n    return this.data().filter(opts)\r\n  }\r\n\r\n  /**\r\n   * Proxy for Collection#query\r\n   */\r\n  static query () {\r\n    return this.data().query()\r\n  }\r\n\r\n  /**\r\n   * Return the registered adapter with the given name or the default adapter if\r\n   * no name is provided.\r\n   *\r\n   * @param {?string} name - The name of the adapter to retrieve.\r\n   * @return {Adapter} The adapter, if any.\r\n   */\r\n  static getAdapter (name) {\r\n    this.dbg('getAdapter', 'name:', name)\r\n    const adapter = this.getAdapterName(name)\r\n    if (!adapter) {\r\n      throw new ReferenceError(`${adapter} not found!`)\r\n    }\r\n    return this.adapters[adapter]\r\n  }\r\n\r\n  /**\r\n   * Return the name of a registered adapter based on the given name or options,\r\n   * or the name of the default adapter if no name provided\r\n   *\r\n   * @param {?Object} opts - The options, if any.\r\n   * @return {string} The name of the adapter.\r\n   */\r\n  static getAdapterName (opts) {\r\n    opts || (opts = {})\r\n    if (utils.isString(opts)) {\r\n      opts = { adapter: opts }\r\n    }\r\n    return opts.adapter || opts.defaultAdapter\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hook. Called by `Model.create` after `Model.create` checks\r\n   * whether it can do an upsert and before `Model.create` calls the `create`\r\n   * method of an adapter.\r\n   *\r\n   * `Model.beforeCreate` will receive the same arguments that are passed to\r\n   * `Model.create`. If `Model.beforeCreate` returns a promise, `Model.create`\r\n   * will wait for the promise to resolve before continuing. If the promise\r\n   * rejects, then the promise returned by `Model.create` will reject. If\r\n   * `Model.beforeCreate` does not return a promise, `Model.create` will resume\r\n   * execution immediately.\r\n   *\r\n   * @param {Object} props - Properties object that was passed to `Model.create`.\r\n   * @param {Object} opts - Options object that was passed to `Model.create`.\r\n   */\r\n  static beforeCreate () {}\r\n\r\n  /**\r\n   * The \"C\" in \"CRUD\", `Model.create` creates a single entity using the\r\n   * `create` method of an adapter. If the `props` passed to `Model.create`\r\n   * contain a primary key as configured by `Model.idAttribute` and\r\n   * `opts.upsert` is `true` of `Model.upsert` is `true` and `opts.upsert` is\r\n   * not `false`, then `Model.update` will be called instead.\r\n   *\r\n   * `Model.beforeCreate` is called and passed the same arguments passed to\r\n   * `Model.create.\r\n   *\r\n   * `props` and `opts` are passed to the `create` method of the adapter\r\n   * specified by `opts.adapter` or `Model.defaultAdapter.\r\n   *\r\n   * `Model.afterCreate` is called with the `data` argument returned by the\r\n   * adapter's `create` method and the `opts` argument passed to `Model.create`.\r\n   *\r\n   * If `opts.raw` is `true` or `Model.raw` is `true` and `opts.raw` is not\r\n   * `false`, then a result object is returned that contained the created entity\r\n   * and some metadata about the operation and its result.\r\n   *\r\n   * Otherwise, the promise returned by `Model.create` resolves with the created\r\n   * entity.\r\n   *\r\n   * @param {?Object} props - The properties from which to create the new entity.\r\n   * @param {?Object} opts - Optional configuration. Properties:\r\n   *   - {string} adapter - The name of the registered adapter to use.\r\n   *   - {boolean} raw - The name of the registered adapter to use.\r\n   * @return {Object} The created entity, or if `raw` is `true` then a result object.\r\n   */\r\n  static create (props, opts) {\r\n    const op = 'create'\r\n    this.dbg(op, 'props:', props, 'opts:', opts)\r\n    let adapterName\r\n\r\n    props || (props = {})\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    if (opts.upsert && utils.get(props, this.idAttribute)) {\r\n      return this.update(utils.get(props, this.idAttribute), props, opts)\r\n    }\r\n    return resolve(this.beforeCreate(props, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .create(this, this.prototype.toJSON.call(props, opts), opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterCreate(data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hook. Called by `Model.create` after `Model.create` call the\r\n   * `create` method of an adapter.\r\n   *\r\n   * `Model.afterCreate` will receive the `data` argument returned by the\r\n   * adapter's `create` method and the `opts` argument passed to `Model.create`.\r\n   * If `Model.afterCreate` returns a promise, `Model.create` will wait for the\r\n   * promise to resolve before continuing. If the promise rejects, then the\r\n   * promise returned by `Model.create` will reject. If `Model.afterCreate` does\r\n   * not return a promise, `Model.create` will resume execution immediately.\r\n   *\r\n   * @param {Object} data - Data object returned by the adapter's `create` method.\r\n   * @param {Object} opts - Options object that was passed to `Model.create`.\r\n   */\r\n  static afterCreate () {}\r\n\r\n  static beforeCreateMany () {}\r\n  static createMany (items, opts) {\r\n    const op = 'createMany'\r\n    this.dbg(op, 'items:', items, 'opts:', opts)\r\n    let adapterName\r\n\r\n    items || (items = [])\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    if (opts.upsert) {\r\n      let hasId = true\r\n      items.forEach(item => {\r\n        hasId = hasId && utils.get(item, this.idAttribute)\r\n      })\r\n      if (hasId) {\r\n        return this.updateMany(items, opts)\r\n      }\r\n    }\r\n\r\n    return resolve(this.beforeCreateMany(items, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .createMany(this, items.map(item => this.prototype.toJSON.call(item, opts)), opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterCreateMany(data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n  static afterCreateMany () {}\r\n\r\n  static beforeFind () {}\r\n  static find (id, opts) {\r\n    const op = 'find'\r\n    this.dbg(op, 'id:', id, 'opts:', opts)\r\n    let adapterName\r\n\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeFind(id, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .find(this, id, opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterFind(data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n  static afterFind () {}\r\n\r\n  static beforeFindAll () {}\r\n  static findAll (query, opts) {\r\n    const op = 'findAll'\r\n    this.dbg(op, 'query:', query, 'opts:', opts)\r\n    let adapterName\r\n\r\n    query || (query = {})\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeFindAll(query, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .findAll(this, query, opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterFindAll(data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n  static afterFindAll () {}\r\n\r\n  static beforeUpdate () {}\r\n  static update (id, props, opts) {\r\n    const op = 'update'\r\n    this.dbg(op, 'id:', id, 'props:', props, 'opts:', opts)\r\n    let adapterName\r\n\r\n    props || (props = {})\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeUpdate(id, props, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .update(this, id, this.prototype.toJSON.call(props, opts), opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterUpdate(id, data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n  static afterUpdate () {}\r\n\r\n  static beforeUpdateMany () {}\r\n  static updateMany (items, opts) {\r\n    const op = 'updateMany'\r\n    this.dbg(op, 'items:', items, 'opts:', opts)\r\n    let adapterName\r\n\r\n    items || (items = [])\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeUpdateMany(items, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .updateMany(this, items.map(item => this.prototype.toJSON.call(item, opts)), opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterUpdateMany(data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n  static afterUpdateMany () {}\r\n\r\n  static beforeUpdateAll () {}\r\n  static updateAll (query, props, opts) {\r\n    const op = 'updateAll'\r\n    this.dbg(op, 'query:', query, 'props:', props, 'opts:', opts)\r\n    let adapterName\r\n\r\n    query || (query = {})\r\n    props || (props = {})\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeUpdateAll(query, props, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .updateAll(this, query, props, opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterUpdateAll(query, data, opts))\r\n          .then(() => handleResponse(this, data, opts, adapterName))\r\n      })\r\n  }\r\n  static afterUpdateAll () {}\r\n\r\n  static beforeDestroy () {}\r\n  static destroy (id, opts) {\r\n    const op = 'destroy'\r\n    this.dbg(op, 'id:', id, 'opts:', opts)\r\n    let adapterName\r\n\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeDestroy(id, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .destroy(this, id, opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterDestroy(id, opts))\r\n          .then(() => {\r\n            if (opts.raw) {\r\n              data.adapter = adapterName\r\n              if (opts.autoEject) {\r\n                data.data = this.eject(id, opts)\r\n              }\r\n              return data\r\n            } else if (opts.autoEject) {\r\n              data = this.eject(id, opts)\r\n            }\r\n            return data\r\n          })\r\n      })\r\n  }\r\n  static afterDestroy () {}\r\n\r\n  static beforeDestroyAll () {}\r\n  static destroyAll (query, opts) {\r\n    const op = 'destroyAll'\r\n    this.dbg(op, 'query:', query, 'opts:', opts)\r\n    let adapterName\r\n\r\n    query || (query = {})\r\n    opts || (opts = {})\r\n    utils._(this, opts)\r\n    opts.op = op\r\n\r\n    return resolve(this.beforeDestroyAll(query, opts))\r\n      .then(() => {\r\n        adapterName = this.getAdapterName(opts)\r\n        return this.getAdapter(adapterName)\r\n          .destroyAll(this, query, opts)\r\n      })\r\n      .then(data => {\r\n        return resolve(this.afterDestroyAll(query, opts))\r\n          .then(() => {\r\n            if (opts.raw) {\r\n              data.adapter = adapterName\r\n              if (opts.autoEject) {\r\n                data.data = this.ejectAll(query, opts)\r\n              }\r\n              return data\r\n            } else if (opts.autoEject) {\r\n              data = this.ejectAll(query, opts)\r\n            }\r\n            return data\r\n          })\r\n      })\r\n  }\r\n  static afterDestroyAll () {}\r\n\r\n  static log (level, ...args) {\r\n    if (level && !args.length) {\r\n      args.push(level)\r\n      level = 'debug'\r\n    }\r\n    if (level === 'debug' && !this.debug) {\r\n      return\r\n    }\r\n    const prefix = `${level.toUpperCase()}: (${this.name})`\r\n    if (console[level]) {\r\n      console[level](prefix, ...args)\r\n    } else {\r\n      console.log(prefix, ...args)\r\n    }\r\n  }\r\n\r\n  static dbg (...args) {\r\n    this.log('debug', ...args)\r\n  }\r\n\r\n  /**\r\n   * Usage:\r\n   *\r\n   * Post.belongsTo(User, {\r\n   *   localKey: 'myUserId'\r\n   * })\r\n   *\r\n   * Comment.belongsTo(User)\r\n   * Comment.belongsTo(Post, {\r\n   *   localField: '_post'\r\n   * })\r\n   */\r\n  static belongsTo (model, opts) {\r\n    return belongsTo(model, opts)(this)\r\n  }\r\n\r\n  /**\r\n   * Usage:\r\n   *\r\n   * User.hasMany(Post, {\r\n   *   localField: 'my_posts'\r\n   * })\r\n   */\r\n  static hasMany (model, opts) {\r\n    return hasMany(model, opts)(this)\r\n  }\r\n\r\n  /**\r\n   * Usage:\r\n   *\r\n   * User.hasOne(Profile, {\r\n   *   localField: '_profile'\r\n   * })\r\n   */\r\n  static hasOne (model, opts) {\r\n    return hasOne(model, opts)(this)\r\n  }\r\n\r\n  static initialize (opts) {\r\n    return initialize(opts)(this)\r\n  }\r\n\r\n  static setSchema (opts) {\r\n    return setSchema(opts)(this)\r\n  }\r\n\r\n  static configure (props) {\r\n    return configure(props)(this)\r\n  }\r\n\r\n  static registerAdapter (name, adapter, opts) {\r\n    return registerAdapter(name, adapter, opts)(this)\r\n  }\r\n\r\n  /**\r\n   * Usage:\r\n   *\r\n   * var User = JSData.Model.extend({...}, {...})\r\n   */\r\n  static extend (props, classProps) {\r\n    const Parent = this\r\n    let Child\r\n\r\n    Parent.dbg('extend', 'props:', props, 'classProps:', classProps)\r\n\r\n    props || (props = {})\r\n    classProps || (classProps = {})\r\n\r\n    const initialize = props.initialize\r\n    delete props.initialize\r\n\r\n    if (props.hasOwnProperty('constructor')) {\r\n      Child = props.constructor\r\n      delete props.constructor\r\n    } else {\r\n      if (!classProps.name) {\r\n        throw new TypeError(`name: Expected string, found ${typeof classProps.name}!`)\r\n      }\r\n      if (classProps.csp) {\r\n        Child = function (...args) {\r\n          __callCheck__(this, Child)\r\n          const _this = __possibleConstructorReturn__(this, Object.getPrototypeOf(Child).apply(this, args))\r\n          if (initialize) {\r\n            initialize.apply(this, args)\r\n          }\r\n          return _this\r\n        }\r\n      } else {\r\n        const name = utils.pascalCase(classProps.name)\r\n        const func = `return function ${name}() {\r\n                        __callCheck__(this, ${name})\r\n                        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(${name}).apply(this, arguments));\r\n                        if (initialize) {\r\n                          initialize.apply(this, arguments)\r\n                        }\r\n                        return _this\r\n                      }`\r\n        Child = new Function('__callCheck__', '__possibleConstructorReturn__', 'Parent', 'initialize', func)(__callCheck__, __possibleConstructorReturn__, Parent, initialize) // eslint-disable-line\r\n      }\r\n    }\r\n\r\n    classProps.shortname = classProps.shortname || utils.camelCase(Child.name || classProps.name)\r\n    delete classProps.name\r\n\r\n    const _schema = classProps.schema\r\n    delete classProps.schema\r\n\r\n    __inherits__(Child, Parent)\r\n\r\n    configure(props)(Child.prototype)\r\n    configure(classProps)(Child)\r\n    if (_schema) {\r\n      setSchema(_schema)(Child)\r\n    } else {\r\n      Child.initialize()\r\n    }\r\n\r\n    return Child\r\n  }\r\n}\r\n\r\nconfigure({\r\n  adapters: {},\r\n  autoEject: true,\r\n  autoInject: isBrowser,\r\n  bypassCache: false,\r\n  csp: false,\r\n  defaultAdapter: 'http',\r\n  debug: false,\r\n  eagerEject: false,\r\n  idAttribute: 'id',\r\n  linkRelations: isBrowser,\r\n  onConflict: 'merge',\r\n  relationsEnumerable: false,\r\n  raw: false,\r\n  strategy: 'single',\r\n  upsert: true,\r\n  useFilter: true\r\n})(Model)\r\n\r\nutils.Events(\r\n  Model.prototype,\r\n  function () {\r\n    return this._get('events')\r\n  },\r\n  function (value) {\r\n    this._set('events', value)\r\n  }\r\n)\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/jason/Documents/GitHub/js-data/src/model/index.js\n **/"],"sourceRoot":""}