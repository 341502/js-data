/*!
* js-data
* @version 2.8.2 - Homepage <http://www.js-data.io/>
* @author Jason Dobry <jason.dobry@gmail.com>
* @copyright (c) 2014-2015 Jason Dobry
* @license MIT <https://github.com/js-data/js-data/blob/master/LICENSE>
*
* @overview Robust framework-agnostic data store.
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JSData=t():e.JSData=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})};for(var i in r){o(i)}t.version={full:"<%= pkg.version %>",major:parseInt("<%= major %>",10),minor:parseInt("<%= minor %>",10),patch:parseInt("<%= patch %>",10),alpha:"<%= alpha %>",beta:"<%= beta %>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})};for(var i in r){o(i)}var u=n(7),a=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})};for(var c in u){a(c)}t.CORE="FIXME"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})};for(var i in r){o(i)}var u=n(5),a=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})};for(var c in u){a(c)}var s=n(6),f=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})};for(var l in s){f(l)}t.DECORATORS="FIXME"},function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e,t){if(!e||!(0,u.isString)(e))throw new TypeError("action(name[, opts]): Expected: string, Found: "+("undefined"==typeof e?"undefined":r(e)));return function(n){if(n[e])throw new Error("action(name[, opts]): "+e+" already exists on target!");return t.request=t.request||function(e){return e},t.response=t.response||function(e){return e},t.responseError=t.responseError||function(e){return(0,u.reject)(e)},n[e]=function(n,r){(0,u.isObject)(n)&&(r=n),r=r||{};var o=this.getAdapter(t.adapter||this.defaultAdapter||"http"),i={};if((0,u.fillIn)(i,t),!r.hasOwnProperty("endpoint")&&i.endpoint&&(r.endpoint=i.endpoint),"function"==typeof r.getEndpoint)i.url=r.getEndpoint(this,r);else{var c=[r.basePath||this.basePath||o.defaults.basePath,o.getEndpoint(this,(0,u.isSorN)(n)?n:null,r)];(0,u.isSorN)(n)&&c.push(n),c.push(t.pathname||e),i.url=u.makePath.apply(null,c)}return i.method=i.method||"GET",i.resourceName=this.name,(0,a.configure)(i)(r),(0,u.resolve)(i).then(r.request||t.request).then(function(e){return o.HTTP(e)}).then(function(e){return e&&e.config&&(e.config.resourceName=this.name),e}).then(r.response||t.response,r.responseError||t.responseError)},n}}function i(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(e){return(0,u.forOwn)(e,function(t,n){o(n,t)(e)}),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.action=o,t.actions=i;var u=n(4),a=n(5)},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t,n){var r=Object.keys(e),o=r.length,i=void 0;for(i=0;o>i;i++)t.call(n,e[r[i]],r[i],e)}function o(e){return"[object RegExp]"===toString.call(e)||!1}function i(e){return"string"==typeof e||e&&"object"===("undefined"==typeof e?"undefined":n(e))&&"[object String]"===toString.call(e)||!1}function u(e){return"[object Object]"===toString.call(e)||!1}function a(e){return e&&"object"===("undefined"==typeof e?"undefined":n(e))&&"[object Date]"===toString.call(e)||!1}function c(e){var t="undefined"==typeof e?"undefined":n(e);return"number"===t||e&&"object"===t&&"[object Number]"===toString.call(e)||!1}function s(e){return"function"==typeof e||e&&"[object Function]"===toString.call(e)||!1}function f(e){return i(e)||c(e)}function l(e){return Promise.resolve(e)}function p(e){return Promise.reject(e)}function d(e){return null!=e&&""!==e}function g(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return e.filter(d).join(t)}function v(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=g(t,"/");return r.replace(/([^:\/]|^)\/{2,}/g,"$1/")}function h(e,t){r(t,function(t,n){void 0===e[n]&&(e[n]=t)})}function b(e,t){if(!t||!t.length)return!1;for(var n=void 0,r=0;r<t.length;r++)if("[object RegExp]"===Object.prototype.toString.call(t[r])&&t[r].test(e)||t[r]===e)return n=e;return!!n}function m(e,t){var n=[];return r(e,function(e,r){b(r,t)&&n.push(r)}),n.forEach(function(t){delete e[t]}),e}function y(e){return i(e)?JSON.parse(e):e}function j(e,t,n,i,c){if(t){if(e===t)throw new Error("Cannot copy! Source and destination are identical.");if(n=n||[],i=i||[],u(e)){var s=n.indexOf(e);if(-1!==s)return i[s];n.push(e),i.push(t)}var f=void 0;if(E(e)){var l=void 0;for(t.length=0,l=0;l<e.length;l++)f=j(e[l],null,n,i,c),u(e[l])&&(n.push(e[l]),i.push(f)),t.push(f)}else{E(t)?t.length=0:r(t,function(e,n){delete t[n]});for(var p in e)if(e.hasOwnProperty(p)){if(b(p,c))continue;f=j(e[p],null,n,i,c),u(e[p])&&(n.push(e[p]),i.push(f)),t[p]=f}}}else t=e,e&&(E(e)?t=j(e,[],n,i,c):a(e)?t=new Date(e.getTime()):o(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):u(e)&&(t=j(e,Object.create(Object.getPrototypeOf(e)),n,i,c)));return t}function O(e,t,n){return e===t?0:(n&&(e=e[n],t=t[n]),null===e&&null===t?0:null===e?-1:null===t?1:t>e?-1:e>t?1:0)}function w(e,t,n){return e.splice(t,0,n),e}function P(e,t){return e.splice(t,1),e}function x(e,t,n){for(var r=0,o=e.length,i=void 0,u=void 0;o>r;){if(u=(r+o)/2|0,i=O(t,e[u],n),0===i)return{found:!0,index:u};0>i?o=u:r=u+1}return{found:!1,index:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.forOwn=r,t.isRegExp=o,t.isString=i,t.isObject=u,t.isDate=a,t.isNumber=c,t.isFunction=s,t.isSorN=f,t.resolve=l,t.reject=p,t.makePath=v,t.fillIn=h,t.isBlacklisted=b,t.omit=m,t.fromJson=y,t.copy=j,t.sort=O,t.insertAt=w,t.removeAt=P,t.binarySearch=x;var E=t.isArray=Array.isArray;t.toJson=JSON.stringify},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){return(0,o.forOwn)(e,function(e,n){t[n]=(0,o.copy)(e)}),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=r;var o=n(4)},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){return(0,o.forOwn)(e,function(e,n){var r={enumerable:void 0!==e.enumerable?e.enumerable:!0,writable:e.writable?e.writable:!0,configurable:e.configurable?e.configurable:!1};e.get&&(r.writable=!1,r.get=e.get),e.set&&(r.writable=!1,r.set=e.set),Object.defineProperty(t.prototype,n,r)}),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.schema=r;var o=n(4)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(n){var r=t.localField||e.name.toLowerCase(),o=t.localKey||e.name.toLowerCase()+"_id",i={enumerable:void 0!==t.enumerable?!!t.enumerable:!1,get:function(){return e.get(this[o])},set:function(t){this[o]=t[e.idAttribute]}};return(t.link===!1||void 0===t.link&&!n.linkRelations)&&(delete i.get,delete i.set),t.get&&!function(){var r=i.get;i.get=function(){var o=this;return t.get(n,e,this,r?function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return r.apply(o,t)}:void 0)}}(),t.set&&!function(){var r=i.set;i.set=function(o){var i=this;return t.set(n,e,this,o,r?function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return r.apply(i,t)}:void 0)}}(),Object.defineProperty(n.prototype,r,i),n}}function c(e){e.$$index={},e.$$collection=[]}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=t.belongsTo=void 0;var f=n(4),l=r(f),p=n(2),d=!1;try{d=!!window}catch(e){}t.belongsTo=a;var g=function e(){u(this,e)},v=t.Resource=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u(this,t);var n=o(this,Object.getPrototypeOf(t).call(this));return(0,p.configure)(e)(n),n}return i(t,e),s(t,null,[{key:"createInstance",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=this;return e instanceof t?e:new t(e)}},{key:"inject",value:function(e){var t=!1;l.isArray(e)?e=e.map(this.createInstance):(t=!0,e=[this.createInstance(e)]);var n=e.map(function(e){var t=e[this.idAttribute];return this.$$index[t]||this.$$collection.push(e),this.$$index[t]=e,e},this);return t?n[0]:n}},{key:"get",value:function(e){return this.$$index[e]}},{key:"belongsTo",value:function(e,t){return a(e,t)(this)}},{key:"action",value:function(e,t){return(0,p.action)(e,t)(this)}},{key:"actions",value:function(e){return(0,p.actions)(e)(this)}},{key:"schema",value:function(e){return(0,p.schema)(e)(this)}},{key:"extend",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=void 0,r=this;if(t.csp)n=function(e){u(this,n),r.call(this,e)};else{var o=t.name,a="return function "+o+"(props) {\n                    _classCallCheck(this, "+o+")\n                    Parent.call(this, props)\n                  }";n=new Function("_classCallCheck","Parent",a)(u,r)}return i(n,this),(0,p.configure)(e)(n.prototype),(0,p.configure)(t)(n),n}}]),t}(g);c(v),(0,p.configure)({autoInject:d,bypassCache:!1,csp:!1,defaultAdapter:"http",eagerEject:!1,idAttribute:"id",linkRelations:d,relationsEnumerable:!1,returnMeta:!1,strategy:"single",useFilter:!0})(v)}])});
//# sourceMappingURL=dist/js-data.min.map